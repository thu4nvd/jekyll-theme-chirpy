<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="üåê DNS Server - C√†i ƒë·∫∑t v√† C·∫•u H√¨nh Tr√™n CentOS 7" /><meta name="author" content="thu4nvd" /><meta property="og:locale" content="en_US" /><meta name="description" content="B√†i h∆∞·ªõng d·∫´n chi ti·∫øt n√†y s·∫Ω gi√∫p b·∫°n c√°ch c√†i ƒë·∫∑t v√† c·∫•u h√¨nh d·ªãch v·ª• DNS tr√™n n·ªÅn t·∫£ng CentOS 7. H∆∞·ªõng d·∫´n n√†y c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c √°p d·ª•ng v·ªõi h·ªá ƒëi·ªÅu h√†nh Red Hat Linux v√† Scientific Linux 7. Chu·∫©n b·ªã c√†i ƒë·∫∑t DNS Server : ƒê·ªÉ chu·∫©n b·ªã cho b√†i Lab n√†y, ng∆∞·ªùi vi·∫øt s·ª≠ d·ª•ng 3 m√°y. Trong ƒë√≥ 1 m√°y d√πng l√†m DNS Server ch√≠nh, hay c√≤n g·ªçi l√† DNS Server Master, 1 m√°y d√πng l√†m DNS Server ph·ª•, c√≤n g·ªçi l√† DNS Server Slave, v√† m√°y c√≤n l·∫°i d√πng l√†m Client. ‚Äì&nbsp; M√°y 1 : DNS Server Master : H·ªá ƒëi·ªÅu h√†nh : CentOS 7 Hostname : masterdns.example.edu.vn IP : 192.168.1.1/255.255.255.0 ‚Äì&nbsp; M√°y 2 : DNS Server Slave : H·ªá ƒëi·ªÅu h√†nh : CentOS 7 Hostname : secondarydns.example.edu.vn IP : 192.168.1.2/255.255.255.0 ‚Äì&nbsp; M√°y 3 : DNS Server Client : H·ªá ƒëi·ªÅu h√†nh : CentOS 7 Hostname : client.example.edu.vn IP : 192.168.1.3/255.255.255.0 C√†i ƒë·∫∑t DNS Server Master : ‚Äì&nbsp; Tr∆∞·ªõc h·∫øt c·∫ßn c√†i ƒë·∫∑t g√≥i bind v√†o m√°y : yum install bind bind-utils ‚Äìy Ch·ªânh s·ª≠a file c·∫•u h√¨nh DNS Server : ‚Äì&nbsp; T√¨m v√† Edit file ‚Äò/etc/named.conf‚Äô B·∫°n c√≥ th·ªÉ tham kh·∫£o ph·∫ßn gi·∫£i th√≠ch c·ª• th·ªÉ v·ªÅ c√°c th√¥ng s·ªë trong file c·∫•u h√¨nh. vi /etc/named.conf ‚Äì&nbsp; Th√™m v√†o nh·ªØng d√≤ng b√¥i ƒë·∫≠m : // // named.conf //" /><meta property="og:description" content="B√†i h∆∞·ªõng d·∫´n chi ti·∫øt n√†y s·∫Ω gi√∫p b·∫°n c√°ch c√†i ƒë·∫∑t v√† c·∫•u h√¨nh d·ªãch v·ª• DNS tr√™n n·ªÅn t·∫£ng CentOS 7. H∆∞·ªõng d·∫´n n√†y c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c √°p d·ª•ng v·ªõi h·ªá ƒëi·ªÅu h√†nh Red Hat Linux v√† Scientific Linux 7. Chu·∫©n b·ªã c√†i ƒë·∫∑t DNS Server : ƒê·ªÉ chu·∫©n b·ªã cho b√†i Lab n√†y, ng∆∞·ªùi vi·∫øt s·ª≠ d·ª•ng 3 m√°y. Trong ƒë√≥ 1 m√°y d√πng l√†m DNS Server ch√≠nh, hay c√≤n g·ªçi l√† DNS Server Master, 1 m√°y d√πng l√†m DNS Server ph·ª•, c√≤n g·ªçi l√† DNS Server Slave, v√† m√°y c√≤n l·∫°i d√πng l√†m Client. ‚Äì&nbsp; M√°y 1 : DNS Server Master : H·ªá ƒëi·ªÅu h√†nh : CentOS 7 Hostname : masterdns.example.edu.vn IP : 192.168.1.1/255.255.255.0 ‚Äì&nbsp; M√°y 2 : DNS Server Slave : H·ªá ƒëi·ªÅu h√†nh : CentOS 7 Hostname : secondarydns.example.edu.vn IP : 192.168.1.2/255.255.255.0 ‚Äì&nbsp; M√°y 3 : DNS Server Client : H·ªá ƒëi·ªÅu h√†nh : CentOS 7 Hostname : client.example.edu.vn IP : 192.168.1.3/255.255.255.0 C√†i ƒë·∫∑t DNS Server Master : ‚Äì&nbsp; Tr∆∞·ªõc h·∫øt c·∫ßn c√†i ƒë·∫∑t g√≥i bind v√†o m√°y : yum install bind bind-utils ‚Äìy Ch·ªânh s·ª≠a file c·∫•u h√¨nh DNS Server : ‚Äì&nbsp; T√¨m v√† Edit file ‚Äò/etc/named.conf‚Äô B·∫°n c√≥ th·ªÉ tham kh·∫£o ph·∫ßn gi·∫£i th√≠ch c·ª• th·ªÉ v·ªÅ c√°c th√¥ng s·ªë trong file c·∫•u h√¨nh. vi /etc/named.conf ‚Äì&nbsp; Th√™m v√†o nh·ªØng d√≤ng b√¥i ƒë·∫≠m : // // named.conf //" /><link rel="canonical" href="https://thu4nvd.github.io//dns-install/" /><meta property="og:url" content="https://thu4nvd.github.io//dns-install/" /><meta property="og:site_name" content="Thu4nvd Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-10-01T03:50:55+07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="üåê DNS Server - C√†i ƒë·∫∑t v√† C·∫•u H√¨nh Tr√™n CentOS 7" /><meta name="twitter:site" content="@thu4nvd" /><meta name="twitter:creator" content="@thu4nvd" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"thu4nvd"},"description":"B√†i h∆∞·ªõng d·∫´n chi ti·∫øt n√†y s·∫Ω gi√∫p b·∫°n c√°ch c√†i ƒë·∫∑t v√† c·∫•u h√¨nh d·ªãch v·ª• DNS tr√™n n·ªÅn t·∫£ng CentOS 7. H∆∞·ªõng d·∫´n n√†y c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c √°p d·ª•ng v·ªõi h·ªá ƒëi·ªÅu h√†nh Red Hat Linux v√† Scientific Linux 7. Chu·∫©n b·ªã c√†i ƒë·∫∑t DNS Server : ƒê·ªÉ chu·∫©n b·ªã cho b√†i Lab n√†y, ng∆∞·ªùi vi·∫øt s·ª≠ d·ª•ng 3 m√°y. Trong ƒë√≥ 1 m√°y d√πng l√†m DNS Server ch√≠nh, hay c√≤n g·ªçi l√† DNS Server Master, 1 m√°y d√πng l√†m DNS Server ph·ª•, c√≤n g·ªçi l√† DNS Server Slave, v√† m√°y c√≤n l·∫°i d√πng l√†m Client. ‚Äì&nbsp; M√°y 1 : DNS Server Master : H·ªá ƒëi·ªÅu h√†nh : CentOS 7 Hostname : masterdns.example.edu.vn IP : 192.168.1.1/255.255.255.0 ‚Äì&nbsp; M√°y 2 : DNS Server Slave : H·ªá ƒëi·ªÅu h√†nh : CentOS 7 Hostname : secondarydns.example.edu.vn IP : 192.168.1.2/255.255.255.0 ‚Äì&nbsp; M√°y 3 : DNS Server Client : H·ªá ƒëi·ªÅu h√†nh : CentOS 7 Hostname : client.example.edu.vn IP : 192.168.1.3/255.255.255.0 C√†i ƒë·∫∑t DNS Server Master : ‚Äì&nbsp; Tr∆∞·ªõc h·∫øt c·∫ßn c√†i ƒë·∫∑t g√≥i bind v√†o m√°y : yum install bind bind-utils ‚Äìy Ch·ªânh s·ª≠a file c·∫•u h√¨nh DNS Server : ‚Äì&nbsp; T√¨m v√† Edit file ‚Äò/etc/named.conf‚Äô B·∫°n c√≥ th·ªÉ tham kh·∫£o ph·∫ßn gi·∫£i th√≠ch c·ª• th·ªÉ v·ªÅ c√°c th√¥ng s·ªë trong file c·∫•u h√¨nh. vi /etc/named.conf ‚Äì&nbsp; Th√™m v√†o nh·ªØng d√≤ng b√¥i ƒë·∫≠m : // // named.conf //","url":"https://thu4nvd.github.io//dns-install/","@type":"BlogPosting","headline":"üåê DNS Server - C√†i ƒë·∫∑t v√† C·∫•u H√¨nh Tr√™n CentOS 7","dateModified":"2023-07-16T12:27:45+07:00","datePublished":"2022-10-01T03:50:55+07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://thu4nvd.github.io//dns-install/"},"@context":"https://schema.org"}</script><title>üåê DNS Server - C√†i ƒë·∫∑t v√† C·∫•u H√¨nh Tr√™n CentOS 7 | Thu4nvd Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar-icon.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Thu4nvd Blog</a></div><div class="site-subtitle font-italic">Get In the Game</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/thu4nvd" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/thu4nvd" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['thuanvd','outlook.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span>üåê DNS Server - C√†i ƒë·∫∑t v√† C·∫•u H√¨nh Tr√™n CentOS 7</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>üåê DNS Server - C√†i ƒë·∫∑t v√† C·∫•u H√¨nh Tr√™n CentOS 7</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> thu4nvd </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Oct 1, 2022, 3:50 AM +0700" prep="on" > Oct 1, 2022 <i class="unloaded">2022-10-01T03:50:55+07:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Jul 16, 2023, 12:27 PM +0700" prefix="Updated " > Jul 16 <i class="unloaded">2023-07-16T12:27:45+07:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1809 words">10 min</span></div></div><div class="post-content"><p></p><p>B√†i h∆∞·ªõng d·∫´n chi ti·∫øt n√†y s·∫Ω gi√∫p b·∫°n <strong>c√°ch c√†i ƒë·∫∑t v√† c·∫•u h√¨nh d·ªãch v·ª• DNS tr√™n n·ªÅn t·∫£ng CentOS 7</strong>. H∆∞·ªõng d·∫´n n√†y c≈©ng c√≥ th·ªÉ ƒë∆∞·ª£c √°p d·ª•ng v·ªõi h·ªá ƒëi·ªÅu h√†nh Red Hat Linux v√† Scientific Linux 7.</p><p></p><p></p><p></p><p></p><p></p><figure class="wp-block-image size-full"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/09/master-slave.png" alt="" class="wp-image-1817" /></figure><p></p><p></p><h2>Chu·∫©n b·ªã c√†i ƒë·∫∑t DNS Server :</h2><p></p><p></p><p>ƒê·ªÉ chu·∫©n b·ªã cho b√†i Lab n√†y, ng∆∞·ªùi vi·∫øt s·ª≠ d·ª•ng 3 m√°y. Trong ƒë√≥ 1 m√°y d√πng l√†m DNS Server ch√≠nh, hay c√≤n g·ªçi l√† DNS Server Master, 1 m√°y d√πng l√†m DNS Server ph·ª•, c√≤n g·ªçi l√† DNS Server Slave, v√† m√°y c√≤n l·∫°i d√πng l√†m Client.</p><p></p><p></p><p><strong>‚Äì&nbsp; M√°y 1 : DNS Server Master :</strong></p><p></p><p></p><ul><li>H·ªá ƒëi·ªÅu h√†nh : CentOS 7<li>Hostname : masterdns.example.edu.vn<li>IP : 192.168.1.1/255.255.255.0</ul><p></p><p></p><p><strong>‚Äì&nbsp; M√°y 2 : DNS Server Slave :</strong></p><p></p><p></p><ul><li>H·ªá ƒëi·ªÅu h√†nh : CentOS 7<li>Hostname : secondarydns.example.edu.vn<li>IP : 192.168.1.2/255.255.255.0</ul><p></p><p></p><p><strong>‚Äì&nbsp; M√°y 3 : DNS Server Client :</strong></p><p></p><p></p><ul><li>H·ªá ƒëi·ªÅu h√†nh : CentOS 7<li>Hostname : client.example.edu.vn<li>IP : 192.168.1.3/255.255.255.0</ul><p></p><p></p><h2><strong>C√†i ƒë·∫∑t DNS Server Master :</strong></h2><p></p><p></p><p>‚Äì&nbsp; Tr∆∞·ªõc h·∫øt c·∫ßn c√†i ƒë·∫∑t g√≥i bind v√†o m√°y :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>yum install bind bind-utils ‚Äìy</strong></pre><p></p><p></p><h3>Ch·ªânh s·ª≠a file c<strong>·∫•u h√¨nh DNS Server :</strong></h3><p></p><p></p><p>‚Äì&nbsp; T√¨m v√† Edit file ‚Äò/etc/named.conf‚Äô</p><p></p><p></p><p>B·∫°n c√≥ th·ªÉ tham kh·∫£o ph·∫ßn <a href="https://www.thegeekdiary.com/dns-configuration-file-etcnamed-conf-explained/" target="_blank" rel="noopener">gi·∫£i th√≠ch c·ª• th·ªÉ v·ªÅ c√°c th√¥ng s·ªë trong file c·∫•u h√¨nh.</a></p><p></p><p></p><pre class="wp-block-preformatted"><strong>vi /etc/named.conf</strong></pre><p></p><p></p><p>‚Äì&nbsp; Th√™m v√†o nh·ªØng d√≤ng b√¥i ƒë·∫≠m :</p><p></p><p></p><pre class="wp-block-preformatted">//
// named.conf
//

options {
listen-on port 53 { 127.0.0.1; <strong>192.168.1.1;</strong>}; <strong>### Master DNS IP ###</strong>
#&nbsp;&nbsp; &nbsp;listen-on-v6 port 53 { ::1; };
directory &nbsp;&nbsp; &nbsp;"/var/named";
dump-file &nbsp;&nbsp; &nbsp;"/var/named/data/cache_dump.db";
statistics-file "/var/named/data/named_stats.txt";
memstatistics-file "/var/named/data/named_mem_stats.txt";
allow-query&nbsp;&nbsp;&nbsp;&nbsp; { localhost; <strong>192.168.1.0/24;</strong>}; <strong>### IP Range ###</strong>
allow-transfer{ localhost; <strong>192.168.1.2;</strong>};&nbsp;&nbsp; <strong>### Slave DNS IP ###</strong>

/*
- If you are building an AUTHORITATIVE DNS server, do NOT enable recursion.
- If you are building a RECURSIVE (caching) DNS server, you need to enable
recursion.
- If your recursive DNS server has a public IP address, you MUST enable access
control to limit queries to your legitimate users. Failing to do so will
cause your server to become part of large scale DNS amplification
attacks. Implementing BCP38 within your network would greatly
reduce such attack surface
*/

recursion yes;
dnssec-enable yes;
dnssec-validation yes;
dnssec-lookaside auto;

/* Path to ISC DLV key */
bindkeys-file "/etc/named.iscdlv.key";
managed-keys-directory "/var/named/dynamic";
pid-file "/run/named/named.pid";
session-keyfile "/run/named/session.key";
};

logging {
channel default_debug {
file "data/named.run";
severity dynamic;
};
};

zone "." IN {
type hint;
file "named.ca";
};

<strong>zone "example.edu.vn" IN {</strong>
<strong>type master;</strong>
<strong>file "forward.example";</strong>
<strong>allow-update { none; };</strong>
<strong>};</strong>

<strong>zone "1.168.192.in-addr.arpa" IN {</strong>
<strong>type master;</strong>
<strong>file "reverse.example";</strong>
<strong>allow-update { none; };</strong>
<strong>};</strong>

include "/etc/named.rfc1912.zones";
include "/etc/named.root.key";</pre><p></p><p></p><h3>Ti·∫øn h√†nh t·∫°o Zone File :</h3><p></p><p></p><p>Nh∆∞ b·∫°n ƒë√£ th·∫•y ·ªü tr√™n file <strong>‚Äò/etc/named.conf‚Äô</strong>, ch√∫ng ta c√≥ th√™m v√†o v√†i d√≤ng trong ƒë√≥ c√≥ ƒë·ªÅ c·∫≠p ƒë·∫øn 2 file Forward v√† Reserve :</p><p></p><p></p><h3>T·∫°o v√πng Forward Zone :</h3><p></p><p></p><p>T·∫°o file <strong>forward.example</strong> trong th∆∞ m·ª•c <strong>‚Äò/var/named‚Äô</strong> :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>vi /var/named/forward.example</strong></pre><p></p><p></p><p>Th√™m v√†o nh·ªØng d√≤ng n√†y :</p><p></p><p></p><pre class="wp-block-preformatted">$TTL 86400
@ &nbsp; IN &nbsp;SOA &nbsp; &nbsp; masterdns.example.edu.vn. root.example.edu.vn. (
2011071001 &nbsp;;Serial
3600 &nbsp; &nbsp; &nbsp; &nbsp;;Refresh
1800 &nbsp; &nbsp; &nbsp; &nbsp;;Retry
604800 &nbsp; &nbsp; &nbsp;;Expire
86400 &nbsp; &nbsp; &nbsp; ;Minimum TTL
)
@ &nbsp; &nbsp; &nbsp; IN &nbsp;NS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;masterdns.example.edu.vn.
@ &nbsp; &nbsp; &nbsp; IN &nbsp;NS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;secondarydns.example.edu.vn.
@ &nbsp; &nbsp; &nbsp; IN &nbsp;A &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.1
@ &nbsp; &nbsp; &nbsp; IN &nbsp;A &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.2
@ &nbsp; &nbsp; &nbsp; IN &nbsp;A &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.3
masterdns &nbsp; &nbsp; &nbsp; IN &nbsp;A &nbsp; 192.168.1.1
secondarydns &nbsp; &nbsp;IN &nbsp;A &nbsp; 192.168.1.2
client &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;IN &nbsp;A &nbsp; 192.168.1.3</pre><p></p><p></p><h3>T·∫°o v√πng Reserve Zone :</h3><p></p><p></p><p>T·∫°o file <strong>reserve.example</strong> ·ªü trong th∆∞ m·ª•c <strong>‚Äò/var/named‚Äô </strong>:</p><p></p><p></p><pre class="wp-block-preformatted"><strong>vi /var/named/reverse.example</strong></pre><p></p><p></p><p>Th√™m v√†o nh·ªØng d√≤ng sau :</p><p></p><p></p><pre class="wp-block-preformatted">$TTL 86400
@ &nbsp; IN &nbsp;SOA &nbsp; &nbsp; masterdns.example.edu.vn. root.example.edu.vn. (
2011071001 &nbsp;;Serial
3600 &nbsp; &nbsp; &nbsp; &nbsp;;Refresh
1800 &nbsp; &nbsp; &nbsp; &nbsp;;Retry
604800 &nbsp; &nbsp; &nbsp;;Expire
86400 &nbsp; &nbsp; &nbsp; ;Minimum TTL
)

@ &nbsp; &nbsp; &nbsp; IN &nbsp;NS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;masterdns.example.edu.vn.
@ &nbsp; &nbsp; &nbsp; IN &nbsp;NS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;secondarydns.example.edu.vn.
@ &nbsp; &nbsp; &nbsp; IN &nbsp;PTR &nbsp; &nbsp; &nbsp; &nbsp; example.edu.vn.

masterdns &nbsp; &nbsp; &nbsp; IN &nbsp;A &nbsp; 192.168.1.1
secondarydns &nbsp; &nbsp;IN &nbsp;A &nbsp; 192.168.1.2
client &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;IN &nbsp;A &nbsp; 192.168.1.3

1 &nbsp; &nbsp; IN &nbsp;PTR &nbsp; &nbsp; &nbsp; &nbsp; masterdns.example.edu.vn.
2 &nbsp; &nbsp; IN &nbsp;PTR &nbsp; &nbsp; &nbsp; &nbsp; secondarydns.example.edu.vn.
3 &nbsp; &nbsp; IN &nbsp;PTR &nbsp; &nbsp; &nbsp; &nbsp; client.example.edu.vn.</pre><p></p><p></p><p><em>C√¢u h·ªèi l√†: N·∫øu kh√¥ng khai b√°o c√°c Record PTR n√†y th√¨ sao?</em> <a href="https://thuanvu.me/dns-no-ptr" target="_blank" rel="noopener">ƒê√¢y l√† c√¢u tr·∫£ l·ªùi.</a></p><p></p><p></p><p><strong>Kh·ªüi ch·∫°y d·ªãch v·ª• DNS Server :</strong></p><p></p><p></p><pre class="wp-block-preformatted">systemctl enable named
systemctl start named</pre><p></p><p></p><h3><strong>C·∫•u h√¨nh Firewall :</strong></h3><p></p><p></p><p>‚Äì&nbsp; M·ªü Port 53 tr√™n Firewall ƒë·ªÉ d·ªãch v·ª• DNS c√≥ th·ªÉ ƒë∆∞·ª£c th√¥ng qua :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>firewall-cmd --permanent --add-port=53/tcp</strong>
<strong>firewall-cmd --permanent --add-port=53/udp</strong></pre><p></p><p></p><p>‚Äì&nbsp; Restart l·∫°i Firewall ƒë·ªÉ thay ƒë·ªïi c√≥ hi·ªáu l·ª±c :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>firewall-cmd ‚Äìreload</strong></pre><p></p><p></p><h3>C·∫•u h√¨nh SELinux, Permissions, Ownership :</h3><p></p><p></p><p>Ch·∫°y t·ª´ng d√≤ng l·ªánh theo th·ª© t·ª± :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>chgrp named -R /var/named</strong>
<strong>chown -v root:named /etc/named.conf</strong>
<strong>restorecon -rv /var/named</strong>
<strong>restorecon /etc/named.conf</strong></pre><p></p><p></p><h3>Test th·ª≠ DNS Server ƒë·ªÉ ƒë·∫£m b·∫£o kh√¥ng c√≥ l·ªói</h3><p></p><p></p><p>Ch·∫°y d√≤ng l·ªánh ƒë·ªÉ check DNS Server :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>named-checkconf /etc/named.conf</strong></pre><p></p><p></p><p>N·∫øu d√≤ng l·ªánh kh√¥ng c√≥ g√¨ tr·∫£ v·ªÅ, t·ª©c l√† b·∫°n ƒë√£ c·∫•u h√¨nh ƒë√∫ng.</p><p></p><p></p><p>‚Äì&nbsp; Check Forward Zone b·∫±ng d√≤ng l·ªánh :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>named-checkzone example.edu.vn /var/named/forward.example</strong></pre><p></p><p></p><p>‚Äì&nbsp; K·∫øt qu·∫£ tr·∫£ v·ªÅ :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>zone example.edu.vn/IN: loaded serial 2011071001</strong>
<strong>OK</strong></pre><p></p><p></p><p>‚Äì&nbsp; Check Reserve Zone b·∫±ng d√≤ng l·ªánh :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>named-checkzone example.edu.vn /var/named/reverse.example</strong></pre><p></p><p></p><p>‚Äì&nbsp; K·∫øt qu·∫£ tr·∫£ v·ªÅ :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>zone example.edu.vn/IN: loaded serial 2011071001</strong>
<strong>OK</strong></pre><p></p><p></p><p>‚Äì&nbsp; Ti·∫øn h√†nh th√™m th√¥ng tin DNS Server v√†o file c·∫•u h√¨nh card m·∫°ng :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>vi /etc/sysconfig/network-scripts/ifcfg-enp0s3</strong>

TYPE="Ethernet"
BOOTPROTO="none"
DEFROUTE="yes"
IPV4_FAILURE_FATAL="no"
IPV6INIT="yes"
IPV6_AUTOCONF="yes"
IPV6_DEFROUTE="yes"
IPV6_FAILURE_FATAL="no"
NAME="enp0s3"
UUID="6e1232c5-7ba1-5c7d-7hr6-6548er765fcd"
ONBOOT="yes"
HWADDR="17:88:34:29:15:62"
IPADDR0="192.168.1.1"
PREFIX0="24"
GATEWAY0="192.168.1.1"
<strong>DNS="192.168.1.1"</strong>
IPV6_PEERDNS="yes"
IPV6_PEERROUTES="yes"</pre><p></p><p></p><p>‚Äì&nbsp; Edit file <strong>/etc/resolv.conf</strong>,</p><p></p><p></p><pre class="wp-block-preformatted"><strong>vi /etc/resolv.conf</strong></pre><p></p><p></p><p>‚Äì&nbsp; Th√™m v√†o ƒë·ªãa ch·ªâ IP c·ªßa Name Server :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>nameserver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 192.168.1.1</strong></pre><p></p><p></p><p>Save v√† ƒë√≥ng file.</p><p></p><p></p><p>‚Äì&nbsp; Restart l·∫°i d·ªãch v·ª• :</p><p></p><p></p><pre class="wp-block-preformatted">systemctl restart network</pre><p></p><p></p><h3>Test DNS Server Master:</h3><p></p><p></p><p>Ch·∫°y d√≤ng l·ªánh :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>dig masterdns.example.edu.vn</strong></pre><p></p><p></p><p>‚Äì&nbsp; K·∫øt qu·∫£ tr·∫£ v·ªÅ :</p><p></p><p></p><pre class="wp-block-preformatted">; &lt;&lt;&gt;&gt; DiG 9.9.4-RedHat-9.9.4-14.el7 &lt;&lt;&gt;&gt; masterdns.example.edu.vn
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 25179
;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 2

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096

;; QUESTION SECTION:
;masterdns.example.edu.vn.&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;A

;; ANSWER SECTION:
masterdns.example.edu.vn. 86400&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;A&nbsp;&nbsp; &nbsp;192.168.1.1

;; AUTHORITY SECTION:

example.edu.vn.&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;86400&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;NS&nbsp;&nbsp; &nbsp;secondarydns.example.edu.vn.
example.edu.vn.&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;86400&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;NS&nbsp;&nbsp; &nbsp;masterdns.example.edu.vn.

;; ADDITIONAL SECTION:
secondarydns.example.edu.vn. 86400 IN&nbsp;&nbsp; &nbsp;A&nbsp;&nbsp; &nbsp;192.168.1.2

;; Query time: 0 msec
;; SERVER: 192.168.1.1#53(192.168.1.101)
;; WHEN: SUN Dec 13 15:35:28 IST 2018
;; MSG SIZE&nbsp; rcvd: 125</pre><p></p><p></p><p>‚Äì&nbsp; Ch·∫°y ti·∫øp d√≤ng l·ªánh :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>nslookup example.edu.vn</strong></pre><p></p><p></p><p>‚Äì&nbsp; ƒê∆∞·ª£c k·∫øt qu·∫£ tr·∫£ v·ªÅ :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>Server:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;192.168.1.1</strong>
<strong>Address:&nbsp;&nbsp; &nbsp;192.168.1.1#53</strong>
<strong>Name:&nbsp;&nbsp; &nbsp;example.edu.vn</strong>
<strong>Address: 192.168.1.3</strong>
<strong>Name:&nbsp;&nbsp; &nbsp;example.edu.vn</strong>
<strong>Address: 192.168.1.1</strong>
<strong>Name:&nbsp;&nbsp; &nbsp;example.edu.vn</strong>
<strong>Address: 192.168.1.2</strong></pre><p></p><p></p><p>V·∫≠y l√† DNS Server ƒë√£ s·∫≥n s√†ng ƒë·ªÉ s·ª≠ d·ª•ng. Ch√∫ng ta chuy·ªÉn qua b∆∞·ªõc c·∫•u h√¨nh DNS Server Slave.</p><p></p><p></p><h2>C·∫•u h√¨nh DNS Server Slave</h2><p></p><p></p><p>‚Äì&nbsp; T·∫°i m√°y Secondary DNS, ti·∫øn h√†nh ch·∫°y d√≤ng l·ªánh ƒë·ªÉ c√†i ƒë·∫∑t g√≥i bind :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>yum install bind bind-utils ‚Äìy</strong></pre><p></p><p></p><h3>Ch·ªânh s·ª≠a c·∫•u h√¨nh Slave DNS Server:</h3><p></p><p></p><pre class="wp-block-preformatted">//
// named.conf
//


options {
listen-on port 53 { 127.0.0.1; <strong>192.168.1.2;</strong> };
listen-on-v6 port 53 { ::1; };
directory "/var/named";
dump-file "/var/named/data/cache_dump.db";
statistics-file "/var/named/data/named_stats.txt";
memstatistics-file "/var/named/data/named_mem_stats.txt";
allow-query &nbsp; &nbsp; { localhost;<strong> 192.168.1.0/24;</strong> };
.
.
.
zone "." IN {
type hint;
file "named.ca";
};

zone "example.edu.vn" IN {
type slave;
file "slaves/example.fwd";
masters { 192.168.1.1; };
};

zone "1.168.192.in-addr.arpa" IN {
type slave;
file "slaves/example.rev";
masters { 192.168.1.1; };
};

include "/etc/named.rfc1912.zones";
include "/etc/named.root.key";</pre><p></p><p></p><p>‚Äì&nbsp; Kh·ªüi ƒë·ªông d·ªãch v·ª• DNS:</p><p></p><p></p><pre class="wp-block-preformatted">systemctl enable named
systemctl start named</pre><p></p><p></p><p>B√¢y gi·ªù th√¨ c√°c v√πng Forward v√† Reserve s·∫Ω t·ª± ƒë·ªông ƒë·ªìng b·ªô t·ª´ DNS Master sang DNS Slave ·ªü th∆∞ m·ª•c <strong>‚Äò/var/named/slaves/‚Äô</strong>:</p><p></p><p></p><pre class="wp-block-preformatted">ls /var/named/slaves/</pre><p></p><p></p><p>‚Äì&nbsp; K·∫øt qu·∫£ tr·∫£ v·ªÅ s·∫Ω ƒë∆∞·ª£c nh∆∞ sau :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>example.fwd &nbsp;example.rev</strong></pre><p></p><p></p><p>‚Äì&nbsp; C·∫•u h√¨nh Card m·∫°ng ƒë·ªÉ th√™m v√†o m√°y ch·ªß DNS :</p><p></p><p></p><pre class="wp-block-preformatted">vi /etc/sysconfig/network-scripts/ifcfg-enp0s3</pre><p></p><p></p><p>Th√™m v√†o c√°c d√≤ng b√¥i ƒë·∫≠m</p><p></p><p></p><pre class="wp-block-preformatted">TYPE="Ethernet"
BOOTPROTO="none"
DEFROUTE="yes"
IPV4_FAILURE_FATAL="no"
IPV6INIT="yes"
IPV6_AUTOCONF="yes"
IPV6_DEFROUTE="yes"
IPV6_FAILURE_FATAL="no"
NAME="enp0s3"
UUID="6a9312c4-7eg3-3h7j-9873da986dfc"
ONBOOT="yes"
HWADDR="24:54:34:76:32:79‚Äù
IPADDR0="192.168.1.2"
PREFIX0="24"
GATEWAY0="192.168.1.1"
<strong>DNS1="192.168.1.1"</strong>
<strong>DNS2="192.168.1.2"</strong>
IPV6_PEERDNS="yes"
IPV6_PEERROUTES="yes"</pre><p></p><p></p><p>‚Äì&nbsp; M·ªü v√† ch·ªânh s·ª≠a file <strong>/etc/resolv.conf</strong></p><p></p><p></p><pre class="wp-block-preformatted"><strong>vi /etc/resolv.conf</strong></pre><p></p><p></p><p>‚Äì&nbsp; Th√™m v√†o ƒë·ªãa ch·ªâ IP c·ªßa Name Server :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>nameserver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 192.168.1.1</strong>
<strong>nameserver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 192.168.1</strong>.2</pre><p></p><p></p><p>Save v√† ƒë√≥ng file l·∫°i.</p><p></p><p></p><h3><strong>C·∫•u h√¨nh Firewall :</strong></h3><p></p><p></p><p>C≈©ng gi·ªëng nh∆∞ m√°y DNS Master, b·∫°n c·∫ßn m·ªü port 53 tr√™n Firewall ƒë·ªÉ DNS Service c√≥ th·ªÉ ƒëi qua :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>firewall-cmd --permanent --add-port=53/tcp</strong></pre><p></p><p></p><p>‚Äì&nbsp; Restart Firewall b·∫±ng d√≤ng l·ªánh :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>firewall-cmd --reload</strong></pre><p></p><p></p><h3>C·∫•u h√¨nh SELinux, Permission, Ownership :</h3><p></p><p></p><pre class="wp-block-preformatted"><strong>chgrp named -R /var/named</strong>
<strong>chown -v root:named /etc/named.conf</strong>
<strong>restorecon -rv /var/named</strong>
<strong>restorecon /etc/named.conf</strong></pre><p></p><p></p><h3>Ti·∫øn h√†nh test DNS Server Master:</h3><p></p><p></p><pre class="wp-block-preformatted"><strong>dig masterdns.example.edu.vn</strong></pre><p></p><p></p><p>K·∫øt qu·∫£ tr·∫£ v·ªÅ :</p><p></p><p></p><pre class="wp-block-preformatted">; &lt;&lt;&gt;&gt; DiG 9.9.4-RedHat-9.9.4-14.el7 &lt;&lt;&gt;&gt; masterdns.example.edu.vn
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 25179
;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 2

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096

;; QUESTION SECTION:
;masterdns.example.edu.vn.&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;A

;; ANSWER SECTION:
masterdns.example.edu.vn. 86400&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;A&nbsp;&nbsp; &nbsp;192.168.1.1

;; AUTHORITY SECTION:
example.edu.vn.&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;86400&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;NS&nbsp;&nbsp; &nbsp;secondarydns.example.edu.vn.
example.edu.vn.&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;86400&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;NS&nbsp;&nbsp; &nbsp;masterdns.example.edu.vn.

;; ADDITIONAL SECTION:
secondarydns.example.edu.vn. 86400 IN&nbsp;&nbsp; &nbsp;A&nbsp;&nbsp; &nbsp;192.168.1.2

;; Query time: 0 msec
;; SERVER: 192.168.1.1#53(192.168.1.101)
;; WHEN: Wed Aug 28 12:35:43 IST 2018
;; MSG SIZE&nbsp; rcvd: 125</pre><p></p><p></p><h3>Ki·ªÉm tra ti·∫øp DNS Server Slave</h3><p></p><p></p><pre class="wp-block-preformatted">dig secondarydns.example.edu.vn</pre><p></p><p></p><p>K·∫øt qu·∫£ tr·∫£ v·ªÅ :</p><p></p><p></p><pre class="wp-block-preformatted">; &lt;&lt;&gt;&gt; DiG 9.9.4-RedHat-9.9.4-14.el7 &lt;&lt;&gt;&gt; secondarydns.anninhmang.edu.vn
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 60819
;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 2, ADDITIONAL: 2

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;secondary.example.edu.vn.&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;A

;; ANSWER SECTION:
secondarydns.example.edu.vn. 86400 IN&nbsp;&nbsp; &nbsp;A&nbsp;&nbsp; &nbsp;192.168.1.2

;; AUTHORITY SECTION:
example.edu.vn.&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;86400&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;NS&nbsp;&nbsp; &nbsp;masterdns.example.edu.vn.
example.edu.vn.&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;86400&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;NS&nbsp;&nbsp; &nbsp;secondarydns.example.edu.vn.

;; ADDITIONAL SECTION:
masterdns.example.edu.vn. 86400&nbsp;&nbsp; &nbsp;IN&nbsp;&nbsp; &nbsp;A&nbsp;&nbsp; &nbsp;192.168.1.1

;; Query time: 0 msec
;; SERVER: 192.168.1.102#53(192.168.1.102)
;; WHEN: Wed Aug 20 17:05:50 IST 2014
;; MSG SIZE&nbsp; rcvd: 125</pre><p></p><p></p><p>‚Äì&nbsp; Ph√¢n gi·∫£i th·ª≠ t√™n mi·ªÅn :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>nslookup example.edu.vn</strong></pre><p></p><p></p><p>‚Äì&nbsp; K·∫øt qu·∫£ tr·∫£ v·ªÅ :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>Server:&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;192.168.1.2</strong>
<strong>Address:&nbsp;&nbsp; &nbsp;192.168.1.2#53</strong>
<strong>Name:&nbsp;&nbsp; &nbsp;example.edu.vn</strong>
<strong>Address: 192.168.1.1</strong>
<strong>Name:&nbsp;&nbsp; &nbsp;</strong>example<strong>.edu.vn</strong>
<strong>Address: 192.168.1.3</strong>
<strong>Name:&nbsp;&nbsp; &nbsp;</strong>example<strong>.edu.vn</strong>
<strong>Address: 192.168.1.2</strong></pre><p></p><p></p><h2>C·∫•u h√¨nh m√°y con Client :</h2><p></p><p></p><p>ƒê·ªëi v·ªõi t·∫•t c·∫£ c√°c m√°y con, add th√¥ng tin ƒë·ªãa ch·ªâ IP c·ªßa c√°c m√°y DNS Server v√†o file ‚Äò<strong>/etc/resolv.conf</strong>‚Äô</p><p></p><p></p><pre class="wp-block-preformatted"><strong>vi /etc/resolv.conf</strong></pre><p></p><p></p><p>Th√™m v√†o :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>nameserver 192.168.1.1</strong>
<strong>nameserver 192.168.1.2</strong></pre><p></p><p></p><p>Ti·∫øn h√†nh restart l·∫°i d·ªãch v·ª• m·∫°ng ho·∫∑c reboot m√°y ƒë·ªÉ thay ƒë·ªïi ƒë∆∞·ª£c √°p d·ª•ng.</p><p></p><p></p><h3>Test DNS Server b·∫±ng m√°y Client :</h3><p></p><p></p><p>B·∫°n c√≥ th·ªÉ ti·∫øn h√†nh test DNS Server t·ª´ c√°c m√°y con b·∫±ng c√°ch s·ª≠ d·ª•ng c√°c d√≤ng l·ªánh :</p><p></p><p></p><pre class="wp-block-preformatted"><strong>dig masterdns.</strong>example<strong>.edu.vn</strong>
<strong>dig secondarydns.</strong>example<strong>.edu.vn</strong>
<strong>dig client.</strong>example<strong>.edu.vn</strong>
<strong>nslookup </strong>example<strong>.edu.vn</strong></pre><p></p><p></p><p>V·∫≠y l√† c·∫£ 2 m√°y DNS Server Master v√† Slave ƒë·ªÅu ƒë√£ c√≥ th·ªÉ ho·∫°t ƒë·ªông. Ch√∫c c√°c b·∫°n th√†nh c√¥ng.</p><p></p><p></p><p>Credit: anninhmang-edu-vn</p><p></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/linux/'>Linux</a>, <a href='/categories/system/'>System</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=üåê DNS Server - C√†i ƒë·∫∑t v√† C·∫•u H√¨nh Tr√™n CentOS 7 - Thu4nvd Blog&url=https://thu4nvd.github.io//dns-install/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=üåê DNS Server - C√†i ƒë·∫∑t v√† C·∫•u H√¨nh Tr√™n CentOS 7 - Thu4nvd Blog&u=https://thu4nvd.github.io//dns-install/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=üåê DNS Server - C√†i ƒë·∫∑t v√† C·∫•u H√¨nh Tr√™n CentOS 7 - Thu4nvd Blog&url=https://thu4nvd.github.io//dns-install/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/linux-source-install/">üêß Linux - C√†i ph·∫ßn m·ªÅm t·ª´ source</a><li><a href="/nas-synology/">üß∫ NAS Synology - Thi·∫øt b·ªã l∆∞u tr·ªØ d·ªØ li·ªáu</a><li><a href="/prometheus-install/">üî• Prometheus - C√†i ƒë·∫∑t + Grafana / CentOS 7</a><li><a href="/wget/">üêß wget - commands with examples</a><li><a href="/centreon-install-iso/">¬© Centreon - C√†i ƒë·∫∑t Centreon 19 ISOüíø</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/travel/">travel</a> <a class="post-tag" href="/tags/xuyenviet/">xuyenviet</a> <a class="post-tag" href="/tags/cameroun/">cameroun</a> <a class="post-tag" href="/tags/french/">french</a> <a class="post-tag" href="/tags/monitoring/">monitoring</a> <a class="post-tag" href="/tags/skill/">skill</a> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/dns/">dns</a> <a class="post-tag" href="/tags/howto/">howto</a> <a class="post-tag" href="/tags/zabbix/">zabbix</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/linux-source-install/"><div class="card-body"> <span class="timeago small" > Oct 12, 2022 <i class="unloaded">2022-10-12T23:19:30+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>üêß Linux - C√†i ph·∫ßn m·ªÅm t·ª´ source</h3><div class="text-muted small"><p> 1. Gi·ªõi thi·ªáu C√°c ph·∫ßn m·ªÅm tr√™n Linux kh√¥ng t·ª± ƒë√≥ng g√≥i s·∫µn. B·ªüi v√¨¬†ch·∫°y tr√™n ch·∫°y tr√™n nh√¨·ªÅu h·ªá th·ªëng kh√°c nhau trong h·ªç Unix nh∆∞ Solaris, AIX, HP-UX‚Ä¶ th·∫≠m ch√≠ c√°c ph·∫ßn m·ªÅm ƒë√≥ c√≥ th·ªÉ ch·∫°y tr√™n...</p></div></div></a></div><div class="card"> <a href="/prometheus-install/"><div class="card-body"> <span class="timeago small" > Oct 13, 2022 <i class="unloaded">2022-10-13T12:52:08+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>üî• Prometheus - C√†i ƒë·∫∑t + Grafana / CentOS 7</h3><div class="text-muted small"><p> Trong b√†i n√†y m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n c√†i ƒë·∫∑t Prometheus v√† Grafana b·∫±ng 2 c√°ch. C√°ch 01: C√†i ƒë·∫∑t Prometheus b·∫±ng Docker. C√°ch 02: C√†i ƒë·∫∑t Prometheus b·∫±ng Package. I. C·∫•u h√¨nh chung cho h...</p></div></div></a></div><div class="card"> <a href="/wget/"><div class="card-body"> <span class="timeago small" > Oct 14, 2022 <i class="unloaded">2022-10-14T02:01:46+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>üêß wget - commands with examples</h3><div class="text-muted small"><p> What is wget? Wget&nbsp;is a free GNU command-line utility tool used to download files from the internet. It retrieves files using HTTP, HTTPS, and FTP protocols. It serves as a tool to susta...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/dns-cac-loai-tan-cong-va-chien-thuat-bao-mat/" class="btn btn-outline-primary" prompt="Older"><p>üåê DNS - C√°c lo·∫°i t·∫•n c√¥ng v√† chi·∫øn thu·∫≠t b·∫£o m·∫≠t</p></a> <a href="/snmp-overview/" class="btn btn-outline-primary" prompt="Newer"><p>üêπ SNMP - t√¨m hi·ªÉu giao th·ª©c qu·∫£n l√Ω thi·∫øt b·ªã</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> ¬© 2023 <a href="https://twitter.com/thu4nvd">Richard Thu4nvd</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."> Some rights reserved. </span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/travel/">travel</a> <a class="post-tag" href="/tags/xuyenviet/">xuyenviet</a> <a class="post-tag" href="/tags/cameroun/">cameroun</a> <a class="post-tag" href="/tags/french/">french</a> <a class="post-tag" href="/tags/monitoring/">monitoring</a> <a class="post-tag" href="/tags/skill/">skill</a> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/dns/">dns</a> <a class="post-tag" href="/tags/howto/">howto</a> <a class="post-tag" href="/tags/zabbix/">zabbix</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://thu4nvd.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
