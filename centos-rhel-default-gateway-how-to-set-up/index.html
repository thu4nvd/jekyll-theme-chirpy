<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="CentOS/RHEL - Default gateway, how to set up" /><meta name="author" content="thu4nvd" /><meta property="og:locale" content="en_US" /><meta name="description" content="CentOSÂ defaultÂ gateway, what is it and what is its purpose? A computer needs to know the address of at least one gateway in order to connect toÂ another network,Â this is called theÂ Default Gateway. Whenever a computer tries to connect to a machine on a differentÂ networkÂ it will connect to theÂ default network gatewayÂ and then theÂ network gatewayÂ willÂ routeÂ the traffic to the right network. In this tutorial, weâ€™ll learn how toÂ configureÂ aÂ CentOSÂ default gateway. This tutorial can also be applied to other distributions which are still in the Red Hat family, such as RHEL or Fedora. Print routing table To print routing table, we can use route -n This will show current route(s) in IP format not as DNS name : [root@lintut ~]# route -n Kernel IP routing table Destination &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gateway &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Genmask &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flags &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Metric &nbsp; &nbsp; &nbsp; Ref &nbsp; &nbsp; &nbsp; &nbsp;Use &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Iface 192.168.1.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 255.255.255.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0 169.254.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; U &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.45 &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0 Delete default gateway As you can see above the default route is on the last line with Flags UG. if we want to change default route we have to delete current default gateway first. The command pattern for deleting default gateway is route del default gw.For example route del default gw 192.168.1.45 When we see the routing table, there are no default gateway right now. [root@alintut ~]# route -n Kernel IP routing table Destination Gateway Â Genmask Â  Flags Â  Metric Â  Ref Â Use Â Iface 192.168.1.0 0.0.0.0 Â 255.255.255.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 169.254.0.0 0.0.0.0 Â 255.255.0.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 Add default gateway Now, itâ€™s time to&nbsp;add new&nbsp;gateway. The command pattern to add new&nbsp;default gateway&nbsp;is route add default gw.For example : route add default gw 192.168.1.4 Check again the updated result: [root@alintut ~]# route -n Kernel IP routing table Destination Gateway Â Genmask Â  Flags Â  Metric Â  Ref Â Use Â Iface 192.168.1.0 0.0.0.0 Â 255.255.255.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 169.254.0.0 0.0.0.0 Â 255.255.0.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 0.0.0.0 192.168.1.4 0.0.0.0 Â  Â  UG Â  Â  Â 0 Â 0 Â 0 Â  Â  Â  Â  Â  bond0 Making the changes permanent When we use route add command above, the change that we made is not permanent, The changes will back to old value when the machine reboot. To make the change permanent, you have to edit file /etc/sysconfig/network, find line GATEWAY=192.168.1.45 This changes the gateway IP to the new gateway. Credit: Lintut" /><meta property="og:description" content="CentOSÂ defaultÂ gateway, what is it and what is its purpose? A computer needs to know the address of at least one gateway in order to connect toÂ another network,Â this is called theÂ Default Gateway. Whenever a computer tries to connect to a machine on a differentÂ networkÂ it will connect to theÂ default network gatewayÂ and then theÂ network gatewayÂ willÂ routeÂ the traffic to the right network. In this tutorial, weâ€™ll learn how toÂ configureÂ aÂ CentOSÂ default gateway. This tutorial can also be applied to other distributions which are still in the Red Hat family, such as RHEL or Fedora. Print routing table To print routing table, we can use route -n This will show current route(s) in IP format not as DNS name : [root@lintut ~]# route -n Kernel IP routing table Destination &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gateway &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Genmask &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flags &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Metric &nbsp; &nbsp; &nbsp; Ref &nbsp; &nbsp; &nbsp; &nbsp;Use &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Iface 192.168.1.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 255.255.255.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0 169.254.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; U &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.45 &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0 Delete default gateway As you can see above the default route is on the last line with Flags UG. if we want to change default route we have to delete current default gateway first. The command pattern for deleting default gateway is route del default gw.For example route del default gw 192.168.1.45 When we see the routing table, there are no default gateway right now. [root@alintut ~]# route -n Kernel IP routing table Destination Gateway Â Genmask Â  Flags Â  Metric Â  Ref Â Use Â Iface 192.168.1.0 0.0.0.0 Â 255.255.255.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 169.254.0.0 0.0.0.0 Â 255.255.0.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 Add default gateway Now, itâ€™s time to&nbsp;add new&nbsp;gateway. The command pattern to add new&nbsp;default gateway&nbsp;is route add default gw.For example : route add default gw 192.168.1.4 Check again the updated result: [root@alintut ~]# route -n Kernel IP routing table Destination Gateway Â Genmask Â  Flags Â  Metric Â  Ref Â Use Â Iface 192.168.1.0 0.0.0.0 Â 255.255.255.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 169.254.0.0 0.0.0.0 Â 255.255.0.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 0.0.0.0 192.168.1.4 0.0.0.0 Â  Â  UG Â  Â  Â 0 Â 0 Â 0 Â  Â  Â  Â  Â  bond0 Making the changes permanent When we use route add command above, the change that we made is not permanent, The changes will back to old value when the machine reboot. To make the change permanent, you have to edit file /etc/sysconfig/network, find line GATEWAY=192.168.1.45 This changes the gateway IP to the new gateway. Credit: Lintut" /><link rel="canonical" href="https://thu4nvd.github.io//centos-rhel-default-gateway-how-to-set-up/" /><meta property="og:url" content="https://thu4nvd.github.io//centos-rhel-default-gateway-how-to-set-up/" /><meta property="og:site_name" content="Thu4nvd Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-10-12T05:37:15+07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="CentOS/RHEL - Default gateway, how to set up" /><meta name="twitter:site" content="@thu4nvd" /><meta name="twitter:creator" content="@thu4nvd" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"thu4nvd"},"description":"CentOSÂ defaultÂ gateway, what is it and what is its purpose? A computer needs to know the address of at least one gateway in order to connect toÂ another network,Â this is called theÂ Default Gateway. Whenever a computer tries to connect to a machine on a differentÂ networkÂ it will connect to theÂ default network gatewayÂ and then theÂ network gatewayÂ willÂ routeÂ the traffic to the right network. In this tutorial, weâ€™ll learn how toÂ configureÂ aÂ CentOSÂ default gateway. This tutorial can also be applied to other distributions which are still in the Red Hat family, such as RHEL or Fedora. Print routing table To print routing table, we can use route -n This will show current route(s) in IP format not as DNS name : [root@lintut ~]# route -n Kernel IP routing table Destination &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gateway &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Genmask &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flags &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Metric &nbsp; &nbsp; &nbsp; Ref &nbsp; &nbsp; &nbsp; &nbsp;Use &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Iface 192.168.1.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 255.255.255.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0 169.254.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; U &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.45 &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0 Delete default gateway As you can see above the default route is on the last line with Flags UG. if we want to change default route we have to delete current default gateway first. The command pattern for deleting default gateway is route del default gw.For example route del default gw 192.168.1.45 When we see the routing table, there are no default gateway right now. [root@alintut ~]# route -n Kernel IP routing table Destination Gateway Â Genmask Â  Flags Â  Metric Â  Ref Â Use Â Iface 192.168.1.0 0.0.0.0 Â 255.255.255.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 169.254.0.0 0.0.0.0 Â 255.255.0.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 Add default gateway Now, itâ€™s time to&nbsp;add new&nbsp;gateway. The command pattern to add new&nbsp;default gateway&nbsp;is route add default gw.For example : route add default gw 192.168.1.4 Check again the updated result: [root@alintut ~]# route -n Kernel IP routing table Destination Gateway Â Genmask Â  Flags Â  Metric Â  Ref Â Use Â Iface 192.168.1.0 0.0.0.0 Â 255.255.255.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 169.254.0.0 0.0.0.0 Â 255.255.0.0 Â  U Â  Â  Â 0 0 0 Â  Â  Â  Â  Â  bond0 0.0.0.0 192.168.1.4 0.0.0.0 Â  Â  UG Â  Â  Â 0 Â 0 Â 0 Â  Â  Â  Â  Â  bond0 Making the changes permanent When we use route add command above, the change that we made is not permanent, The changes will back to old value when the machine reboot. To make the change permanent, you have to edit file /etc/sysconfig/network, find line GATEWAY=192.168.1.45 This changes the gateway IP to the new gateway. Credit: Lintut","url":"https://thu4nvd.github.io//centos-rhel-default-gateway-how-to-set-up/","@type":"BlogPosting","headline":"CentOS/RHEL - Default gateway, how to set up","dateModified":"2023-07-16T12:27:45+07:00","datePublished":"2022-10-12T05:37:15+07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://thu4nvd.github.io//centos-rhel-default-gateway-how-to-set-up/"},"@context":"https://schema.org"}</script><title>CentOS/RHEL - Default gateway, how to set up | Thu4nvd Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar-icon.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Thu4nvd Blog</a></div><div class="site-subtitle font-italic">Get In the Game</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/thu4nvd" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/thu4nvd" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['thuanvd','outlook.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span>CentOS/RHEL - Default gateway, how to set up</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>CentOS/RHEL - Default gateway, how to set up</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> thu4nvd </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Oct 12, 2022, 5:37 AM +0700" prep="on" > Oct 12, 2022 <i class="unloaded">2022-10-12T05:37:15+07:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Jul 16, 2023, 12:27 PM +0700" prefix="Updated " > Jul 16 <i class="unloaded">2023-07-16T12:27:45+07:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="585 words">3 min</span></div></div><div class="post-content"><p></p><p></p><p><strong>CentOS</strong>Â <strong>default</strong>Â <strong>gateway</strong>, what is it and what is its purpose? A computer needs to know the address of at least one gateway in order to connect toÂ <strong>another network,</strong>Â this is called theÂ <strong>Default Gateway</strong>. Whenever a computer tries to connect to a machine on a differentÂ <strong>network</strong>Â it will connect to theÂ <strong>default network gateway</strong>Â and then theÂ <strong>network gateway</strong>Â willÂ <strong>route</strong>Â the traffic to the right network. In this tutorial, weâ€™ll learn how toÂ <strong>configure</strong>Â aÂ <strong>CentOS</strong>Â <strong>default gateway</strong>. This tutorial can also be applied to other distributions which are still in the Red Hat family, such as RHEL or Fedora.</p><p></p><p></p><h2>Print routing table</h2><p></p><p></p><p>To print routing table, we can use</p><p></p><p></p><pre class="wp-block-preformatted">route -n</pre><p></p><p></p><p>This will show current route(s) in IP format not as DNS name :</p><p></p><p></p><pre class="wp-block-preformatted">[root@lintut ~]# route -n
Kernel IP routing table
Destination &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Gateway &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Genmask &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Flags &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Metric &nbsp; &nbsp; &nbsp; Ref &nbsp; &nbsp; &nbsp; &nbsp;Use &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Iface
192.168.1.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 255.255.255.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0
169.254.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;255.255.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; U &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0
0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 192.168.1.45 &nbsp; &nbsp; 0.0.0.0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UG &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bond0</pre><p></p><p></p><h2>Delete default gateway</h2><p></p><p></p><p>As you can see above the default route is on the last line with Flags UG. if we want to change default route we have to delete current default gateway first. The command pattern for deleting default gateway is route del default gw.<br /><strong>For example</strong></p><p></p><p></p><pre class="wp-block-preformatted">route del default gw 192.168.1.45</pre><p></p><p></p><p>When we see the routing table, there are no default gateway right now.</p><p></p><p></p><pre class="wp-block-preformatted">[root@alintut ~]# route -n
Kernel IP routing table
Destination  Gateway  Â Genmask  Â       Flags Â  Metric Â  Ref Â Use Â Iface 
192.168.1.0  0.0.0.0  Â 255.255.255.0 Â  U  Â  Â  Â 0  0  0 Â  Â  Â  Â  Â  bond0 
169.254.0.0  0.0.0.0  Â 255.255.0.0  Â   U  Â  Â  Â 0  0  0 Â  Â  Â  Â  Â  bond0</pre><p></p><p></p><h2>Add default gateway</h2><p></p><p></p><p>Now, itâ€™s time to&nbsp;<strong>add new</strong>&nbsp;gateway. The command pattern to add new&nbsp;<strong>default gateway</strong>&nbsp;is route add default gw.<br /><strong>For example :</strong></p><p></p><p></p><pre class="wp-block-preformatted">route add default gw 192.168.1.4 </pre><p></p><p></p><p>Check again the updated result:</p><p></p><p></p><pre class="wp-block-preformatted">[root@alintut ~]# route -n
Kernel IP routing table
Destination  Gateway  Â Genmask  Â       Flags Â  Metric Â  Ref Â Use Â Iface 
192.168.1.0  0.0.0.0  Â 255.255.255.0 Â  U  Â  Â  Â 0  0  0 Â  Â  Â  Â  Â  bond0 
169.254.0.0  0.0.0.0  Â 255.255.0.0  Â   U  Â  Â  Â 0  0  0 Â  Â  Â  Â  Â  bond0
0.0.0.0      192.168.1.4  0.0.0.0  Â  Â  UG Â  Â  Â 0 Â 0 Â 0 Â  Â  Â  Â  Â  bond0</pre><p></p><p></p><h2>Making the changes permanent</h2><p></p><p></p><p>When we use route add command above, the change that we made is not permanent, The changes will back to old value when the machine reboot. To make the change permanent, you have to edit file /etc/sysconfig/network, find line</p><p></p><p></p><pre class="wp-block-preformatted">GATEWAY=192.168.1.45</pre><p></p><p></p><p>This changes the gateway IP to the new gateway.</p><p></p><p></p><p></p><p></p><p>Credit: Lintut</p><p></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/linux/'>Linux</a>, <a href='/categories/system/'>System</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/command/" class="post-tag no-text-decoration" >command</a> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=CentOS/RHEL - Default gateway, how to set up - Thu4nvd Blog&url=https://thu4nvd.github.io//centos-rhel-default-gateway-how-to-set-up/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=CentOS/RHEL - Default gateway, how to set up - Thu4nvd Blog&u=https://thu4nvd.github.io//centos-rhel-default-gateway-how-to-set-up/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=CentOS/RHEL - Default gateway, how to set up - Thu4nvd Blog&url=https://thu4nvd.github.io//centos-rhel-default-gateway-how-to-set-up/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/linux-source-install/">ğŸ§ Linux - CÃ i pháº§n má»m tá»« source</a><li><a href="/nas-synology/">ğŸ§º NAS Synology - Thiáº¿t bá»‹ lÆ°u trá»¯ dá»¯ liá»‡u</a><li><a href="/prometheus-install/">ğŸ”¥ Prometheus - CÃ i Ä‘áº·t + Grafana / CentOS 7</a><li><a href="/wget/">ğŸ§ wget - commands with examples</a><li><a href="/centreon-install-iso/">Â© Centreon - CÃ i Ä‘áº·t Centreon 19 ISOğŸ’¿</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/travel/">travel</a> <a class="post-tag" href="/tags/xuyenviet/">xuyenviet</a> <a class="post-tag" href="/tags/cameroun/">cameroun</a> <a class="post-tag" href="/tags/french/">french</a> <a class="post-tag" href="/tags/monitoring/">monitoring</a> <a class="post-tag" href="/tags/skill/">skill</a> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/dns/">dns</a> <a class="post-tag" href="/tags/howto/">howto</a> <a class="post-tag" href="/tags/zabbix/">zabbix</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/linux-command-tar/"><div class="card-body"> <span class="timeago small" > Sep 27, 2022 <i class="unloaded">2022-09-27T01:04:30+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ğŸ§ Lá»‡nh Tar - Command Linux</h3><div class="text-muted small"><p> Table of Contents CÃ¡ch sá»­ dá»¥ng Tar Linux Táº¡o file archive .tar Linux Táº¡o file nÃ©n .tar.gz trong Linux Táº¡i file nÃ©n .tar.bz2 trong Linux báº±ng lá»‡nh tar: LÃ m tháº¿ nÃ o Ä‘á»ƒ giáº£i nÃ©n file .tar trong ...</p></div></div></a></div><div class="card"> <a href="/linux-source-install/"><div class="card-body"> <span class="timeago small" > Oct 12, 2022 <i class="unloaded">2022-10-12T23:19:30+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ğŸ§ Linux - CÃ i pháº§n má»m tá»« source</h3><div class="text-muted small"><p> 1. Giá»›i thiá»‡u CÃ¡c pháº§n má»m trÃªn Linux khÃ´ng tá»± Ä‘Ã³ng gÃ³i sáºµn. Bá»Ÿi vÃ¬Â cháº¡y trÃªn cháº¡y trÃªn nhÃ¬á»u há»‡ thá»‘ng khÃ¡c nhau trong há» Unix nhÆ° Solaris, AIX, HP-UXâ€¦ tháº­m chÃ­ cÃ¡c pháº§n má»m Ä‘Ã³ cÃ³ thá»ƒ cháº¡y trÃªn...</p></div></div></a></div><div class="card"> <a href="/prometheus-install/"><div class="card-body"> <span class="timeago small" > Oct 13, 2022 <i class="unloaded">2022-10-13T12:52:08+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ğŸ”¥ Prometheus - CÃ i Ä‘áº·t + Grafana / CentOS 7</h3><div class="text-muted small"><p> Trong bÃ i nÃ y mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ i Ä‘áº·t Prometheus vÃ  Grafana báº±ng 2 cÃ¡ch. CÃ¡ch 01: CÃ i Ä‘áº·t Prometheus báº±ng Docker. CÃ¡ch 02: CÃ i Ä‘áº·t Prometheus báº±ng Package. I. Cáº¥u hÃ¬nh chung cho h...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/mariadb-install/" class="btn btn-outline-primary" prompt="Older"><p>ğŸŒŠ MariaDB - Overview and Install</p></a> <a href="/dnf-command/" class="btn btn-outline-primary" prompt="Newer"><p>ğŸ§ DNF command - trÃ¬nh quáº£n lÃ½ gÃ³i máº·c Ä‘á»‹nh CentOS 8</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> Â© 2023 <a href="https://twitter.com/thu4nvd">Richard Thu4nvd</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."> Some rights reserved. </span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/travel/">travel</a> <a class="post-tag" href="/tags/xuyenviet/">xuyenviet</a> <a class="post-tag" href="/tags/cameroun/">cameroun</a> <a class="post-tag" href="/tags/french/">french</a> <a class="post-tag" href="/tags/monitoring/">monitoring</a> <a class="post-tag" href="/tags/skill/">skill</a> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/dns/">dns</a> <a class="post-tag" href="/tags/howto/">howto</a> <a class="post-tag" href="/tags/zabbix/">zabbix</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://thu4nvd.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
