<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="🔥 Prometheus - Cài đặt + Grafana / CentOS 7" /><meta name="author" content="thu4nvd" /><meta property="og:locale" content="en_US" /><meta name="description" content="Trong bài này mình sẽ hướng dẫn các bạn cài đặt Prometheus và Grafana bằng 2 cách. Cách 01: Cài đặt Prometheus bằng Docker. Cách 02: Cài đặt Prometheus bằng Package. I. Cấu hình chung cho hệ thống trước khi bạn cài đặt Prometheus:&nbsp; Update linux,&nbsp; sync NTP linux, disables selinux Chạy lệnh :&nbsp; yum update -y ntpdate 1.ro.pool.ntp.org vim /etc/sysconfig/selinux Change “SELINUX=enforcng” to “SELINUX=disabled”. Save và exit file. Sau đó reboot lại server. Cài iptables thay thế cho firewalld trên Centos 7 =&gt; Do mình thích sử dụng iptables hơn là firewalld. Bước 1: remove firewalld&nbsp; systemctl stop firewalld systemctl disable firewalld systemctl mask --now firewalld Bước 2: Cài đặt Iptables yum install iptables-services -y systemctl start iptables systemctl enable iptables Mở các port sau:&nbsp; -A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 3000 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 9090 -j ACCEPT II. Cài đặt prometheus bằng Docker Cài đặt Docker Link tham khảo: https://docs.docker.com/install/linux/docker-ce/centos/&nbsp; Bước 1: Cài các gói cần thiết sudo yum install -y yum-utils device-mapper-persistent-data lvm2 Bước 2: Cấu hình docker-ce repo sudo yum-config-manager \ &nbsp;&nbsp;&nbsp;&nbsp;--add-repo \ &nbsp;&nbsp;&nbsp;&nbsp;https://download.docker.com/linux/centos/docker-ce.repo Bước 3: Cài đặt docker-ce sudo yum install docker-ce docker-ce-cli containerd.io systemctl enable docker systemctl restart docker Check docker version docker vesion Cài đặt prometheus với docker Có 2 cách: Cách 1: Bạn có thể pull trực tiếp image về và dùng Search Images:&nbsp; docker search prometheus Thông tin Image trực tiếp từ trang chủ: https://hub.docker.com/u/prom&nbsp; Bước 1: Tải image về:&nbsp; docker search prometheus Bước 2: Run docker với image mình đã pull về docker run --restart=always --mount source=prometheus-data,target=/prometheus --mount source=prometheus-config,target=/etc/prometheus --name prometheus -d -p ip-prometheus:9090:9090 prometheus Cách 2 (khuyến nghị): Git clone code về sau đó build image =&gt; Cách này có thể kiểm soát dc code Dùng git clone để download code về local git&nbsp; clone https://github.com/prometheus/prometheus cd prometheus/ Sử dụng Go Lang để build&nbsp; file config của prometheus (binary) make build Edit Dockerfile -&gt; check xem Dockerfile&nbsp; Ở đây mình check thấy đường dẫn không đúng và mình chỉnh lại cho phù hợp Hình 01. [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Build Image: docker image build -t prometheus:latest . Run Image sau mình đã build&nbsp; docker run --restart=always --mount source=prometheus-data,target=/prometheus --mount source=prometheus-config,target=/etc/prometheus --name prometheus -d -p 9090:9090 prometheus Check lại kết quả image đang chạy: docker ps Hình 02: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Truy cập vào Prometheus: http://IP:9090 Hình 03: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Note : docker run:&nbsp; lệnh dùng để chạy docker –restart=always: khởi động lại image sau khi docker start lại . tượng trưng cho thư mục hiện tại chứa Dockerfile –mount source=prometheus-data,target=/prometheus: kỹ thuật dùng mount data tránh mất datda khi mình xóa container Thường mình sẽ inspect image ra để xem nên mount những thư mực nào. docker image inspect prometheus Hình 04: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 =&gt; Nhìn hình mình sẽ cần mount Workingdir và thư mực chức file config chính. -d -p 9090:9090: Nat port bên ngoài vào port container Cài đặt grafana Bước 1:&nbsp; Pull image grafana về local docker pull grafana/grafana Bước 2: Run image grafana docker run --restart=always -d -p 3000:3000 grafana/grafana&nbsp; =&gt; Mình không mount thư mực vì mình check image không có gì đễ lưu Truy cập vào Grafana: http://IP:3000 Hình 05: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 =&gt; Passwork mặt định là admin/admin, và sau đó sẽ đổi password sau lần đầu tiên đăng nhập Bước 3: Connect Grafana tới prometheus Chọn Configuration, sau đó chọn data source type là Prometheus Hình 06: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Nhập thông tin của prometheus, sau đó save lại. Hình 07: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 =&gt; Như vậy chúng ta đã hoàn thành việc kết nối giữa Grafana và Prometheus II. Cài đặt Prometheus bằng Package Cài đặt prometheus Download here: https://prometheus.io/download/ wget https://github.com/prometheus/prometheus/releases/download/v2.10.0/prometheus-2.10.0.linux-amd64.tar.gz tar -xvzf prometheus-2.10.0.linux-amd64.tar.gz mv prometheus-2.10.0.linux-amd64 /usr/local/prometheus/ Tạo service prometheus trong systemd vim /etc/systemd/system/prometheus.service Nội dung file là: [Unit] Description=Prometheus Wants=network-online.target After=network-online.target" /><meta property="og:description" content="Trong bài này mình sẽ hướng dẫn các bạn cài đặt Prometheus và Grafana bằng 2 cách. Cách 01: Cài đặt Prometheus bằng Docker. Cách 02: Cài đặt Prometheus bằng Package. I. Cấu hình chung cho hệ thống trước khi bạn cài đặt Prometheus:&nbsp; Update linux,&nbsp; sync NTP linux, disables selinux Chạy lệnh :&nbsp; yum update -y ntpdate 1.ro.pool.ntp.org vim /etc/sysconfig/selinux Change “SELINUX=enforcng” to “SELINUX=disabled”. Save và exit file. Sau đó reboot lại server. Cài iptables thay thế cho firewalld trên Centos 7 =&gt; Do mình thích sử dụng iptables hơn là firewalld. Bước 1: remove firewalld&nbsp; systemctl stop firewalld systemctl disable firewalld systemctl mask --now firewalld Bước 2: Cài đặt Iptables yum install iptables-services -y systemctl start iptables systemctl enable iptables Mở các port sau:&nbsp; -A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 3000 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 9090 -j ACCEPT II. Cài đặt prometheus bằng Docker Cài đặt Docker Link tham khảo: https://docs.docker.com/install/linux/docker-ce/centos/&nbsp; Bước 1: Cài các gói cần thiết sudo yum install -y yum-utils device-mapper-persistent-data lvm2 Bước 2: Cấu hình docker-ce repo sudo yum-config-manager \ &nbsp;&nbsp;&nbsp;&nbsp;--add-repo \ &nbsp;&nbsp;&nbsp;&nbsp;https://download.docker.com/linux/centos/docker-ce.repo Bước 3: Cài đặt docker-ce sudo yum install docker-ce docker-ce-cli containerd.io systemctl enable docker systemctl restart docker Check docker version docker vesion Cài đặt prometheus với docker Có 2 cách: Cách 1: Bạn có thể pull trực tiếp image về và dùng Search Images:&nbsp; docker search prometheus Thông tin Image trực tiếp từ trang chủ: https://hub.docker.com/u/prom&nbsp; Bước 1: Tải image về:&nbsp; docker search prometheus Bước 2: Run docker với image mình đã pull về docker run --restart=always --mount source=prometheus-data,target=/prometheus --mount source=prometheus-config,target=/etc/prometheus --name prometheus -d -p ip-prometheus:9090:9090 prometheus Cách 2 (khuyến nghị): Git clone code về sau đó build image =&gt; Cách này có thể kiểm soát dc code Dùng git clone để download code về local git&nbsp; clone https://github.com/prometheus/prometheus cd prometheus/ Sử dụng Go Lang để build&nbsp; file config của prometheus (binary) make build Edit Dockerfile -&gt; check xem Dockerfile&nbsp; Ở đây mình check thấy đường dẫn không đúng và mình chỉnh lại cho phù hợp Hình 01. [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Build Image: docker image build -t prometheus:latest . Run Image sau mình đã build&nbsp; docker run --restart=always --mount source=prometheus-data,target=/prometheus --mount source=prometheus-config,target=/etc/prometheus --name prometheus -d -p 9090:9090 prometheus Check lại kết quả image đang chạy: docker ps Hình 02: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Truy cập vào Prometheus: http://IP:9090 Hình 03: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Note : docker run:&nbsp; lệnh dùng để chạy docker –restart=always: khởi động lại image sau khi docker start lại . tượng trưng cho thư mục hiện tại chứa Dockerfile –mount source=prometheus-data,target=/prometheus: kỹ thuật dùng mount data tránh mất datda khi mình xóa container Thường mình sẽ inspect image ra để xem nên mount những thư mực nào. docker image inspect prometheus Hình 04: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 =&gt; Nhìn hình mình sẽ cần mount Workingdir và thư mực chức file config chính. -d -p 9090:9090: Nat port bên ngoài vào port container Cài đặt grafana Bước 1:&nbsp; Pull image grafana về local docker pull grafana/grafana Bước 2: Run image grafana docker run --restart=always -d -p 3000:3000 grafana/grafana&nbsp; =&gt; Mình không mount thư mực vì mình check image không có gì đễ lưu Truy cập vào Grafana: http://IP:3000 Hình 05: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 =&gt; Passwork mặt định là admin/admin, và sau đó sẽ đổi password sau lần đầu tiên đăng nhập Bước 3: Connect Grafana tới prometheus Chọn Configuration, sau đó chọn data source type là Prometheus Hình 06: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Nhập thông tin của prometheus, sau đó save lại. Hình 07: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 =&gt; Như vậy chúng ta đã hoàn thành việc kết nối giữa Grafana và Prometheus II. Cài đặt Prometheus bằng Package Cài đặt prometheus Download here: https://prometheus.io/download/ wget https://github.com/prometheus/prometheus/releases/download/v2.10.0/prometheus-2.10.0.linux-amd64.tar.gz tar -xvzf prometheus-2.10.0.linux-amd64.tar.gz mv prometheus-2.10.0.linux-amd64 /usr/local/prometheus/ Tạo service prometheus trong systemd vim /etc/systemd/system/prometheus.service Nội dung file là: [Unit] Description=Prometheus Wants=network-online.target After=network-online.target" /><link rel="canonical" href="https://thu4nvd.github.io//prometheus-install/" /><meta property="og:url" content="https://thu4nvd.github.io//prometheus-install/" /><meta property="og:site_name" content="Thu4nvd Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-10-13T12:52:08+07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="🔥 Prometheus - Cài đặt + Grafana / CentOS 7" /><meta name="twitter:site" content="@thu4nvd" /><meta name="twitter:creator" content="@thu4nvd" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"thu4nvd"},"description":"Trong bài này mình sẽ hướng dẫn các bạn cài đặt Prometheus và Grafana bằng 2 cách. Cách 01: Cài đặt Prometheus bằng Docker. Cách 02: Cài đặt Prometheus bằng Package. I. Cấu hình chung cho hệ thống trước khi bạn cài đặt Prometheus:&nbsp; Update linux,&nbsp; sync NTP linux, disables selinux Chạy lệnh :&nbsp; yum update -y ntpdate 1.ro.pool.ntp.org vim /etc/sysconfig/selinux Change “SELINUX=enforcng” to “SELINUX=disabled”. Save và exit file. Sau đó reboot lại server. Cài iptables thay thế cho firewalld trên Centos 7 =&gt; Do mình thích sử dụng iptables hơn là firewalld. Bước 1: remove firewalld&nbsp; systemctl stop firewalld systemctl disable firewalld systemctl mask --now firewalld Bước 2: Cài đặt Iptables yum install iptables-services -y systemctl start iptables systemctl enable iptables Mở các port sau:&nbsp; -A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 3000 -j ACCEPT -A INPUT -p tcp -m state --state NEW -m tcp --dport 9090 -j ACCEPT II. Cài đặt prometheus bằng Docker Cài đặt Docker Link tham khảo: https://docs.docker.com/install/linux/docker-ce/centos/&nbsp; Bước 1: Cài các gói cần thiết sudo yum install -y yum-utils device-mapper-persistent-data lvm2 Bước 2: Cấu hình docker-ce repo sudo yum-config-manager \\ &nbsp;&nbsp;&nbsp;&nbsp;--add-repo \\ &nbsp;&nbsp;&nbsp;&nbsp;https://download.docker.com/linux/centos/docker-ce.repo Bước 3: Cài đặt docker-ce sudo yum install docker-ce docker-ce-cli containerd.io systemctl enable docker systemctl restart docker Check docker version docker vesion Cài đặt prometheus với docker Có 2 cách: Cách 1: Bạn có thể pull trực tiếp image về và dùng Search Images:&nbsp; docker search prometheus Thông tin Image trực tiếp từ trang chủ: https://hub.docker.com/u/prom&nbsp; Bước 1: Tải image về:&nbsp; docker search prometheus Bước 2: Run docker với image mình đã pull về docker run --restart=always --mount source=prometheus-data,target=/prometheus --mount source=prometheus-config,target=/etc/prometheus --name prometheus -d -p ip-prometheus:9090:9090 prometheus Cách 2 (khuyến nghị): Git clone code về sau đó build image =&gt; Cách này có thể kiểm soát dc code Dùng git clone để download code về local git&nbsp; clone https://github.com/prometheus/prometheus cd prometheus/ Sử dụng Go Lang để build&nbsp; file config của prometheus (binary) make build Edit Dockerfile -&gt; check xem Dockerfile&nbsp; Ở đây mình check thấy đường dẫn không đúng và mình chỉnh lại cho phù hợp Hình 01. [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Build Image: docker image build -t prometheus:latest . Run Image sau mình đã build&nbsp; docker run --restart=always --mount source=prometheus-data,target=/prometheus --mount source=prometheus-config,target=/etc/prometheus --name prometheus -d -p 9090:9090 prometheus Check lại kết quả image đang chạy: docker ps Hình 02: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Truy cập vào Prometheus: http://IP:9090 Hình 03: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Note : docker run:&nbsp; lệnh dùng để chạy docker –restart=always: khởi động lại image sau khi docker start lại . tượng trưng cho thư mục hiện tại chứa Dockerfile –mount source=prometheus-data,target=/prometheus: kỹ thuật dùng mount data tránh mất datda khi mình xóa container Thường mình sẽ inspect image ra để xem nên mount những thư mực nào. docker image inspect prometheus Hình 04: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 =&gt; Nhìn hình mình sẽ cần mount Workingdir và thư mực chức file config chính. -d -p 9090:9090: Nat port bên ngoài vào port container Cài đặt grafana Bước 1:&nbsp; Pull image grafana về local docker pull grafana/grafana Bước 2: Run image grafana docker run --restart=always -d -p 3000:3000 grafana/grafana&nbsp; =&gt; Mình không mount thư mực vì mình check image không có gì đễ lưu Truy cập vào Grafana: http://IP:3000 Hình 05: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 =&gt; Passwork mặt định là admin/admin, và sau đó sẽ đổi password sau lần đầu tiên đăng nhập Bước 3: Connect Grafana tới prometheus Chọn Configuration, sau đó chọn data source type là Prometheus Hình 06: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 Nhập thông tin của prometheus, sau đó save lại. Hình 07: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 =&gt; Như vậy chúng ta đã hoàn thành việc kết nối giữa Grafana và Prometheus II. Cài đặt Prometheus bằng Package Cài đặt prometheus Download here: https://prometheus.io/download/ wget https://github.com/prometheus/prometheus/releases/download/v2.10.0/prometheus-2.10.0.linux-amd64.tar.gz tar -xvzf prometheus-2.10.0.linux-amd64.tar.gz mv prometheus-2.10.0.linux-amd64 /usr/local/prometheus/ Tạo service prometheus trong systemd vim /etc/systemd/system/prometheus.service Nội dung file là: [Unit] Description=Prometheus Wants=network-online.target After=network-online.target","url":"https://thu4nvd.github.io//prometheus-install/","@type":"BlogPosting","headline":"🔥 Prometheus - Cài đặt + Grafana / CentOS 7","dateModified":"2023-07-16T12:27:45+07:00","datePublished":"2022-10-13T12:52:08+07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://thu4nvd.github.io//prometheus-install/"},"@context":"https://schema.org"}</script><title>🔥 Prometheus - Cài đặt + Grafana / CentOS 7 | Thu4nvd Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar-icon.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Thu4nvd Blog</a></div><div class="site-subtitle font-italic">Get In the Game</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/thu4nvd" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/thu4nvd" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['thuanvd','outlook.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span>🔥 Prometheus - Cài đặt + Grafana / CentOS 7</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>🔥 Prometheus - Cài đặt + Grafana / CentOS 7</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> thu4nvd </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Oct 13, 2022, 12:52 PM +0700" prep="on" > Oct 13, 2022 <i class="unloaded">2022-10-13T12:52:08+07:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Jul 16, 2023, 12:27 PM +0700" prefix="Updated " > Jul 16 <i class="unloaded">2023-07-16T12:27:45+07:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="965 words">5 min</span></div></div><div class="post-content"><p></p><p><strong>Trong bài này mình sẽ hướng dẫn các bạn cài đặt Prometheus và Grafana bằng 2 cách.</strong></p><p></p><p></p><p><strong>Cách 01: Cài đặt Prometheus bằng Docker.</strong></p><p></p><p></p><p><strong>Cách 02: Cài đặt Prometheus bằng Package.</strong></p><p></p><p></p><p></p><h2><em><strong>I. Cấu hình chung cho hệ thống trước khi bạn cài đặt Prometheus:&nbsp;</strong></em></h2><p></p><p></p><h3><strong>Update linux,&nbsp; sync NTP linux, disables selinux</strong></h3><p></p><p></p><p>Chạy lệnh :&nbsp;</p><p></p><p></p><pre class="wp-block-preformatted">yum update -y
ntpdate 1.ro.pool.ntp.org
vim /etc/sysconfig/selinux</pre><p></p><p></p><p><strong><em>Change “SELINUX=enforcng” to “SELINUX=disabled”.</em></strong></p><p></p><p></p><p>Save và exit file. Sau đó reboot lại server.</p><p></p><p></p><h3><strong>Cài iptables thay thế cho firewalld trên Centos 7</strong></h3><p></p><p></p><p>=&gt; Do mình thích sử dụng iptables hơn là firewalld.</p><p></p><p></p><p>Bước 1: remove firewalld&nbsp;</p><p></p><p></p><pre class="wp-block-preformatted">systemctl stop firewalld
systemctl disable firewalld
systemctl mask --now firewalld</pre><p></p><p></p><p>Bước 2: Cài đặt Iptables</p><p></p><p></p><pre class="wp-block-preformatted">yum install iptables-services -y
systemctl start iptables
systemctl enable iptables</pre><p></p><p></p><p>Mở các port sau:&nbsp;</p><p></p><p></p><pre class="wp-block-preformatted">-A INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT
-A INPUT -p tcp -m state --state NEW -m tcp --dport 3000 -j ACCEPT
-A INPUT -p tcp -m state --state NEW -m tcp --dport 9090 -j ACCEPT</pre><p></p><p></p><h2><strong><em>II. <strong>Cài đặt prometheus bằng Docker</strong></em></strong></h2><p></p><p></p><h3><strong>Cài đặt Docker</strong></h3><p></p><p></p><p>Link tham khảo: <a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank" rel="noreferrer noopener">https://docs.docker.com/install/linux/docker-ce/centos/&nbsp;</a></p><p></p><p></p><p>Bước 1: Cài các gói cần thiết</p><p></p><p></p><pre class="wp-block-preformatted">sudo yum install -y yum-utils device-mapper-persistent-data lvm2</pre><p></p><p></p><p>Bước 2: Cấu hình docker-ce repo</p><p></p><p></p><pre class="wp-block-preformatted">sudo yum-config-manager \
&nbsp;&nbsp;&nbsp;&nbsp;--add-repo \
&nbsp;&nbsp;&nbsp;&nbsp;https://download.docker.com/linux/centos/docker-ce.repo</pre><p></p><p></p><p>Bước 3: Cài đặt docker-ce</p><p></p><p></p><pre class="wp-block-preformatted">sudo yum install docker-ce docker-ce-cli containerd.io
systemctl enable docker
systemctl restart docker</pre><p></p><p></p><p>Check docker version</p><p></p><p></p><pre class="wp-block-preformatted">docker vesion</pre><p></p><p></p><h3><strong>Cài đặt prometheus với docker</strong></h3><p></p><p></p><p>Có 2 cách:</p><p></p><p></p><p><strong>Cách 1: Bạn có thể pull trực tiếp image về và dùng</strong></p><p></p><p></p><p>Search Images:&nbsp;</p><p></p><p></p><pre class="wp-block-preformatted">docker search prometheus</pre><p></p><p></p><p>Thông tin Image trực tiếp từ trang chủ: <strong><a href="https://hub.docker.com/u/prom" target="_blank" rel="noreferrer noopener">https://hub.docker.com/u/prom</a>&nbsp;</strong></p><p></p><p></p><p>Bước 1: Tải image về:&nbsp;</p><p></p><p></p><pre class="wp-block-preformatted">docker search prometheus</pre><p></p><p></p><p>Bước 2: Run docker với image mình đã pull về</p><p></p><p></p><pre class="wp-block-preformatted">docker run --restart=always --mount source=prometheus-data,target=/prometheus --mount source=prometheus-config,target=/etc/prometheus --name prometheus -d -p ip-prometheus:9090:9090 prometheus</pre><p></p><p></p><p><strong>Cách 2 (khuyến nghị): Git clone code về sau đó build image</strong></p><p></p><p></p><p>=&gt; Cách này có thể kiểm soát dc code</p><p></p><p></p><p>Dùng git clone để download code về local</p><p></p><p></p><pre class="wp-block-preformatted">git&nbsp; clone https://github.com/prometheus/prometheus
cd prometheus/</pre><p></p><p></p><p>Sử dụng Go Lang để build&nbsp; file config của prometheus (binary)</p><p></p><p></p><pre class="wp-block-preformatted">make build</pre><p></p><p></p><p>Edit Dockerfile -&gt; check xem Dockerfile&nbsp;</p><p></p><p></p><p>Ở đây mình check thấy đường dẫn không đúng và mình chỉnh lại cho phù hợp</p><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/1-1.jpg" alt="1 1 [Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7" class="wp-image-6181" title="[Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 1" /></figure><p></p><p></p><p>Hình 01. [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7</p><p></p><p></p><p>Build Image:</p><p></p><p></p><pre class="wp-block-preformatted">docker image build -t prometheus:latest .</pre><p></p><p></p><p>Run Image sau mình đã build&nbsp;</p><p></p><p></p><pre class="wp-block-preformatted">docker run --restart=always --mount source=prometheus-data,target=/prometheus --mount source=prometheus-config,target=/etc/prometheus --name prometheus -d -p 9090:9090 prometheus</pre><p></p><p></p><p>Check lại kết quả image đang chạy:</p><p></p><p></p><pre class="wp-block-preformatted">docker ps</pre><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/2-1.jpg" alt="2 1 [Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7" class="wp-image-6182" title="[Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 2" /></figure><p></p><p></p><p>Hình 02: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7</p><p></p><p></p><p>Truy cập vào Prometheus: http://IP:9090</p><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/3-1.jpg" alt="3 1 [Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7" class="wp-image-6183" title="[Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 3" /></figure><p></p><p></p><p>Hình 03: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7</p><p></p><p></p><p><strong>Note :</strong></p><p></p><p></p><p>docker run:&nbsp; lệnh dùng để chạy docker</p><p></p><p></p><p>–restart=always: khởi động lại image sau khi docker start lại</p><p></p><p></p><p>. tượng trưng cho thư mục hiện tại chứa Dockerfile</p><p></p><p></p><p>–mount source=prometheus-data,target=/prometheus: kỹ thuật dùng mount data tránh mất datda khi mình xóa container</p><p></p><p></p><p>Thường mình sẽ inspect image ra để xem nên mount những thư mực nào.</p><p></p><p></p><p>docker image inspect prometheus</p><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/4-1.jpg" alt="4 1 [Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7" class="wp-image-6184" title="[Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 4" /></figure><p></p><p></p><p>Hình 04: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7</p><p></p><p></p><p>=&gt; Nhìn hình mình sẽ cần mount Workingdir và thư mực chức file config chính.</p><p></p><p></p><p>-d -p 9090:9090: Nat port bên ngoài vào port container</p><p></p><p></p><h3><strong>Cài đặt grafana</strong></h3><p></p><p></p><p>Bước 1:&nbsp; Pull image grafana về local</p><p></p><p></p><pre class="wp-block-preformatted">docker pull grafana/grafana</pre><p></p><p></p><p>Bước 2: Run image grafana</p><p></p><p></p><pre class="wp-block-preformatted">docker run --restart=always -d -p 3000:3000 grafana/grafana&nbsp;</pre><p></p><p></p><p>=&gt; Mình không mount thư mực vì mình check image không có gì đễ lưu</p><p></p><p></p><p>Truy cập vào Grafana: http://IP:3000</p><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/5-1.jpg" alt="5 1 [Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7" class="wp-image-6185" title="[Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 5" /></figure><p></p><p></p><p>Hình 05: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7</p><p></p><p></p><p>=&gt; Passwork mặt định là admin/admin, và sau đó sẽ đổi password sau lần đầu tiên đăng nhập</p><p></p><p></p><p>Bước 3: Connect Grafana tới prometheus</p><p></p><p></p><p>Chọn Configuration, sau đó chọn data source type là Prometheus</p><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/6-1.jpg" alt="6 1 [Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7" class="wp-image-6186" title="[Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 6" /></figure><p></p><p></p><p>Hình 06: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7</p><p></p><p></p><p>Nhập thông tin của prometheus, sau đó save lại.</p><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/7-1.jpg" alt="7 1 [Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7" class="wp-image-6187" title="[Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 7" /></figure><p></p><p></p><p>Hình 07: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7</p><p></p><p></p><p>=&gt; Như vậy chúng ta đã hoàn thành việc kết nối giữa Grafana và Prometheus</p><p></p><p></p><h2><em><strong>II. Cài đặt Prometheus bằng Package</strong></em></h2><p></p><p></p><h3><strong>Cài đặt prometheus</strong></h3><p></p><p></p><p>Download here: <a href="https://prometheus.io/download/" target="_blank" rel="noreferrer noopener">https://prometheus.io/download/</a></p><p></p><p></p><pre class="wp-block-preformatted">wget https://github.com/prometheus/prometheus/releases/download/v2.10.0/prometheus-2.10.0.linux-amd64.tar.gz
tar -xvzf prometheus-2.10.0.linux-amd64.tar.gz
mv prometheus-2.10.0.linux-amd64 /usr/local/prometheus/</pre><p></p><p></p><p>Tạo service prometheus trong systemd</p><p></p><p></p><pre class="wp-block-preformatted">vim /etc/systemd/system/prometheus.service</pre><p></p><p></p><p>Nội dung file là:</p><p></p><p></p><pre class="wp-block-preformatted">[Unit]
Description=Prometheus
Wants=network-online.target
After=network-online.target

[Service]
User=root
Group=root
Type=simple
ExecStart=/usr/local/prometheus/prometheus \
--config.file /usr/local/prometheus/prometheus.yml \
--storage.tsdb.path /usr/local/prometheus/ \
--web.console.templates=/usr/local/prometheus/consoles \
--web.console.libraries=/usr/local/prometheus/console_libraries

[Install]
WantedBy=multi-user.target</pre><p></p><p></p><p>Restart và enable services.</p><p></p><p></p><pre class="wp-block-preformatted">systemctl daemon-reload
systemctl start prometheus
systemctl status prometheus</pre><p></p><p></p><h3><strong>Cài đặt Grafana</strong></h3><p></p><p></p><p><a href="https://grafana.com/grafana/download">https://grafana.com/grafana/download</a></p><p></p><p></p><pre class="wp-block-preformatted">wget https://dl.grafana.com/oss/release/grafana-6.2.1-1.x86_64.rpm
sudo yum localinstall grafana-6.2.1-1.x86_64.rpm
sudo service grafana-server start
sudo /sbin/chkconfig --add grafana-server
systemctl daemon-reload
systemctl start grafana-server
systemctl status grafana-server
sudo systemctl enable grafana-server.service</pre><p></p><p></p><p>Truy cập vào Grafana: http://IP:3000</p><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/5-1.jpg" alt="5 1 [Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7" class="wp-image-6185" title="[Prometheus từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7 5" /></figure><p></p><p></p><p>Hình 08: [Monitor System từ A đến Z] Phần 01. Cài đặt Prometheus và Grafana trên CentOS 7</p><p></p><p></p><p><strong>Sau bài này mình sẽ tiếp tục hướng dẫn mọi người đưa các thiết bị vào để monitor. Ví dụ như Server Windows, Server Linux và monitor những thiết bị mạng qua snmp.</strong></p><p></p><p></p><p><strong>Tất cả bài viết về prometheus tại đây.</strong></p><p></p><p></p><p><a href="https://thuanvu.me/prometheus-overview" target="_blank" rel="noopener">Giới thiệu về giải pháp giám sát hệ thống Prometheus và Grafana</a></p><p></p><p></p><p><a href="https://thuanvu.me/prometheus-install" target="_blank" rel="noopener">Phần 01 – Cài đặt Prometheus và Grafana trên Centos 07</a></p><p></p><p></p><p><a href="https://thuanvu.me/prometheus-windows" target="_blank" rel="noopener">Phần 02 – Giám sát Windows Server với Prometheus</a></p><p></p><p></p><p><a href="https://thuanvu.me/prometheus-fortigate" target="_blank" rel="noopener">Phần 03 – Giám sát firewall Fortigate với Prometheus</a></p><p></p><p></p><p><a href="https://thuanvu.me/prometheus-cisco" target="_blank" rel="noopener">Phần 04 – Giám sát thiết bị mạng Cisco với Prometheus</a></p><p></p><p></p><p><a href="https://thuanvu.me/prometheus-pfsense" target="_blank" rel="noopener">Phần 05 – Giám sát firewall Pfsense và Linux Server với Prometheus</a></p><p></p><p></p><p><a href="https://thuanvu.me/prometheus-vmware" target="_blank" rel="noopener">Phần 06 – Giám sát VMWARE với Prometheus</a></p><p></p><p></p><p><a href="https://thuanvu.me/prometheus-telegram" target="_blank" rel="noopener">Phần 07 –&nbsp; Cấu hình alert trong Prometheus và gửi tin nhắn qua telegram</a></p><p></p><p></p><p>Credit: Itforvn.com</p><p></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/linux/'>Linux</a>, <a href='/categories/system/'>System</a>, <a href='/categories/tools/'>Tools</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/monitoring/" class="post-tag no-text-decoration" >monitoring</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=🔥 Prometheus - Cài đặt + Grafana / CentOS 7 - Thu4nvd Blog&url=https://thu4nvd.github.io//prometheus-install/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=🔥 Prometheus - Cài đặt + Grafana / CentOS 7 - Thu4nvd Blog&u=https://thu4nvd.github.io//prometheus-install/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=🔥 Prometheus - Cài đặt + Grafana / CentOS 7 - Thu4nvd Blog&url=https://thu4nvd.github.io//prometheus-install/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/linux-source-install/">🐧 Linux - Cài phần mềm từ source</a><li><a href="/nas-synology/">🧺 NAS Synology - Thiết bị lưu trữ dữ liệu</a><li><a href="/prometheus-install/">🔥 Prometheus - Cài đặt + Grafana / CentOS 7</a><li><a href="/wget/">🐧 wget - commands with examples</a><li><a href="/centreon-install-iso/">© Centreon - Cài đặt Centreon 19 ISO💿</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/travel/">travel</a> <a class="post-tag" href="/tags/xuyenviet/">xuyenviet</a> <a class="post-tag" href="/tags/cameroun/">cameroun</a> <a class="post-tag" href="/tags/french/">french</a> <a class="post-tag" href="/tags/monitoring/">monitoring</a> <a class="post-tag" href="/tags/skill/">skill</a> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/dns/">dns</a> <a class="post-tag" href="/tags/howto/">howto</a> <a class="post-tag" href="/tags/zabbix/">zabbix</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/centreon-install-iso/"><div class="card-body"> <span class="timeago small" > Oct 15, 2022 <i class="unloaded">2022-10-15T05:12:29+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>© Centreon - Cài đặt Centreon 19 ISO💿</h3><div class="text-muted small"><p> Bài viết hướng dẫn cài đặt Centreon 19 từ bản đóng gói ISO. Cách đơn giản để tìm hiểu một phần mềm mã nguồn mở là cài đặt và sử dụng nó. Để sử dụng được thì các bạn nên cài đặt từ các file ISO, n...</p></div></div></a></div><div class="card"> <a href="/zabbix-optimize/"><div class="card-body"> <span class="timeago small" > Oct 5, 2022 <i class="unloaded">2022-10-05T05:36:00+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>📯 Zabbix - Tối ưu hóa Zabbix + MySQL</h3><div class="text-muted small"><p> Sau khi các bạn cài đặt Zabbix trên CentOS hoàn thành để cho hệ thống Zabbix server hoạt động với hiệu năng cao nhất thì các bạn cần thực hiện các bước tối ưu hóa Zabbix server và MySQL database. ...</p></div></div></a></div><div class="card"> <a href="/zabbix-cli/"><div class="card-body"> <span class="timeago small" > Oct 8, 2022 <i class="unloaded">2022-10-08T22:17:59+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>📯 Zabbix - Command lines</h3><div class="text-muted small"><p> Thuận giới thiệu một vài commands thường dùng (daily) trên zabbix-server: systemctl status zabbix-servertop # filter by user zabbixps u -C zabbix_agentd #process zabbixzabbix_server -V #versionz...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/nas-synology/" class="btn btn-outline-primary" prompt="Older"><p>🧺 NAS Synology - Thiết bị lưu trữ dữ liệu</p></a> <a href="/wget/" class="btn btn-outline-primary" prompt="Newer"><p>🐧 wget - commands with examples</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/thu4nvd">Richard Thu4nvd</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."> Some rights reserved. </span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/travel/">travel</a> <a class="post-tag" href="/tags/xuyenviet/">xuyenviet</a> <a class="post-tag" href="/tags/cameroun/">cameroun</a> <a class="post-tag" href="/tags/french/">french</a> <a class="post-tag" href="/tags/monitoring/">monitoring</a> <a class="post-tag" href="/tags/skill/">skill</a> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/dns/">dns</a> <a class="post-tag" href="/tags/howto/">howto</a> <a class="post-tag" href="/tags/zabbix/">zabbix</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://thu4nvd.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
