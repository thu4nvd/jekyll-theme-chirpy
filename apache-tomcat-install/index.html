<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="🐅 Apache Tomcat 9 cài đặt trên CentOS 7" /><meta name="author" content="thu4nvd" /><meta property="og:locale" content="en_US" /><meta name="description" content="Apache Tomcat là một web server mã nguồn mở được phát triển bởi tập đoàn Apache. Tomcat không phải là một web server đa dụng như Apache hoặc Nginx, mục đích chính của nó là cung cấp một môi trường dùng để thực thi các ứng dụng thuần Java, Java Servlet và JavaServer Pages. Bài viết này sẽ hướng dẫn bạn những bước cài đặt và cấu hình cơ bản Tomcat 9 trên nền tảng hệ điều hành CentOS 7. Cài đặt và cấu hình Tomcat service Bước 1 – Cài đặt Java Tomcat 9 yêu cầu Java SE 8 (hoặc cao hơn) phải được cài đặt trên CentOS. Bạn có thể cài đặt Java từ kho lưu trữ gói mặc định bằng lệnh yum&nbsp; như sau: # yum install java-1.8.0-openjdk-devel&nbsp; &nbsp;Sau khi quá trình cài đặt hoàn tất, bạn có thể kiểm tra lại phiên bản Java bằng lệnh bên dưới: #&nbsp;java -version Bước 2 – Tạo non-root User và Group riêng để chạy Tomcat Vì lý do bảo mật, Tomcat nên được thực thi bởi một user được cấp quyền riêng (không phải user root). Chúng ta sẽ tạo một user&nbsp; và group để thực thi Tomcat. Đầu tiên, bạn tạo group bằng lệnh # groupadd tomcat&nbsp; Sau đó, tạo một user tomcat (là thành viên của group tomcat) với thư mục home /opt/tomcat (thư mục cài đặt Tomcat ở bước sau) và tắt quyền truy cập vào server: # useradd -M -s /bin/nologin -g tomcat -d /opt/tomcat tomcat&nbsp; Bước 3 – Download và Giải nén Tomcat Bạn có thể sử dụng lệnh wget như sau để tải về phiên bản tomcat 9 mới nhất # wget https://downloads.apache.org/tomcat/tomcat-9/v9.0.31/bin/apache-tomcat-9.0.31.tar.gz&nbsp; Tiếp theo, bạn tiến hành giải nén file .tar.gz vào thư mục cài đăt Tomcat (/opt/tomcat) bằng lệnh sau: # tar -xzvf apache-tomcat-9.0.31.tar.gz -C /opt/tomcat --strip-components=1 Bước 4 – Cập nhật quyền thực thi cho thư mục Tomcat Để user tomcat có thể truy cập vào thư mục cài đặt Tomcat, bạn lần lượt thiết lập quyền như sau: – Gán quyền sỡ hữu thư mục cài đặt Tomcat cho group tomcat # cd /opt/tomcat&nbsp; # chgrp -R tomcat /opt/tomcat – Kế tiếp, thiết lập quyền đọc và thực thi thư mục conf (và tất cả nội dung con bên trong) cho group tomcat. # chmod -R g+r conf # chmod g+x conf Sau cùng, bạn gán user tomcat sở hữu các thư mục webapps, work, temp và logs như sau # chown -R tomcat webapps/ work/ temp/ logs/ Bước 5 – Tạo service Tomcat trong Systemd Để Tomcat hoạt động như một dịch vụ trên CentOS 7, bạn cần tạo mới một file Tomcat Systemd unit. Tạo và mở file unit bằng lệnh sau: vi /etc/systemd/system/tomcat.service Thêm nội dung bên dưới vào file. # Systemd unit file for tomcat [Unit] Description=Apache Tomcat Web Application Container After=syslog.target network.target" /><meta property="og:description" content="Apache Tomcat là một web server mã nguồn mở được phát triển bởi tập đoàn Apache. Tomcat không phải là một web server đa dụng như Apache hoặc Nginx, mục đích chính của nó là cung cấp một môi trường dùng để thực thi các ứng dụng thuần Java, Java Servlet và JavaServer Pages. Bài viết này sẽ hướng dẫn bạn những bước cài đặt và cấu hình cơ bản Tomcat 9 trên nền tảng hệ điều hành CentOS 7. Cài đặt và cấu hình Tomcat service Bước 1 – Cài đặt Java Tomcat 9 yêu cầu Java SE 8 (hoặc cao hơn) phải được cài đặt trên CentOS. Bạn có thể cài đặt Java từ kho lưu trữ gói mặc định bằng lệnh yum&nbsp; như sau: # yum install java-1.8.0-openjdk-devel&nbsp; &nbsp;Sau khi quá trình cài đặt hoàn tất, bạn có thể kiểm tra lại phiên bản Java bằng lệnh bên dưới: #&nbsp;java -version Bước 2 – Tạo non-root User và Group riêng để chạy Tomcat Vì lý do bảo mật, Tomcat nên được thực thi bởi một user được cấp quyền riêng (không phải user root). Chúng ta sẽ tạo một user&nbsp; và group để thực thi Tomcat. Đầu tiên, bạn tạo group bằng lệnh # groupadd tomcat&nbsp; Sau đó, tạo một user tomcat (là thành viên của group tomcat) với thư mục home /opt/tomcat (thư mục cài đặt Tomcat ở bước sau) và tắt quyền truy cập vào server: # useradd -M -s /bin/nologin -g tomcat -d /opt/tomcat tomcat&nbsp; Bước 3 – Download và Giải nén Tomcat Bạn có thể sử dụng lệnh wget như sau để tải về phiên bản tomcat 9 mới nhất # wget https://downloads.apache.org/tomcat/tomcat-9/v9.0.31/bin/apache-tomcat-9.0.31.tar.gz&nbsp; Tiếp theo, bạn tiến hành giải nén file .tar.gz vào thư mục cài đăt Tomcat (/opt/tomcat) bằng lệnh sau: # tar -xzvf apache-tomcat-9.0.31.tar.gz -C /opt/tomcat --strip-components=1 Bước 4 – Cập nhật quyền thực thi cho thư mục Tomcat Để user tomcat có thể truy cập vào thư mục cài đặt Tomcat, bạn lần lượt thiết lập quyền như sau: – Gán quyền sỡ hữu thư mục cài đặt Tomcat cho group tomcat # cd /opt/tomcat&nbsp; # chgrp -R tomcat /opt/tomcat – Kế tiếp, thiết lập quyền đọc và thực thi thư mục conf (và tất cả nội dung con bên trong) cho group tomcat. # chmod -R g+r conf # chmod g+x conf Sau cùng, bạn gán user tomcat sở hữu các thư mục webapps, work, temp và logs như sau # chown -R tomcat webapps/ work/ temp/ logs/ Bước 5 – Tạo service Tomcat trong Systemd Để Tomcat hoạt động như một dịch vụ trên CentOS 7, bạn cần tạo mới một file Tomcat Systemd unit. Tạo và mở file unit bằng lệnh sau: vi /etc/systemd/system/tomcat.service Thêm nội dung bên dưới vào file. # Systemd unit file for tomcat [Unit] Description=Apache Tomcat Web Application Container After=syslog.target network.target" /><link rel="canonical" href="https://thu4nvd.github.io//apache-tomcat-install/" /><meta property="og:url" content="https://thu4nvd.github.io//apache-tomcat-install/" /><meta property="og:site_name" content="Thu4nvd Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-10-06T04:34:06+07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="🐅 Apache Tomcat 9 cài đặt trên CentOS 7" /><meta name="twitter:site" content="@thu4nvd" /><meta name="twitter:creator" content="@thu4nvd" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"thu4nvd"},"description":"Apache Tomcat là một web server mã nguồn mở được phát triển bởi tập đoàn Apache. Tomcat không phải là một web server đa dụng như Apache hoặc Nginx, mục đích chính của nó là cung cấp một môi trường dùng để thực thi các ứng dụng thuần Java, Java Servlet và JavaServer Pages. Bài viết này sẽ hướng dẫn bạn những bước cài đặt và cấu hình cơ bản Tomcat 9 trên nền tảng hệ điều hành CentOS 7. Cài đặt và cấu hình Tomcat service Bước 1 – Cài đặt Java Tomcat 9 yêu cầu Java SE 8 (hoặc cao hơn) phải được cài đặt trên CentOS. Bạn có thể cài đặt Java từ kho lưu trữ gói mặc định bằng lệnh yum&nbsp; như sau: # yum install java-1.8.0-openjdk-devel&nbsp; &nbsp;Sau khi quá trình cài đặt hoàn tất, bạn có thể kiểm tra lại phiên bản Java bằng lệnh bên dưới: #&nbsp;java -version Bước 2 – Tạo non-root User và Group riêng để chạy Tomcat Vì lý do bảo mật, Tomcat nên được thực thi bởi một user được cấp quyền riêng (không phải user root). Chúng ta sẽ tạo một user&nbsp; và group để thực thi Tomcat. Đầu tiên, bạn tạo group bằng lệnh # groupadd tomcat&nbsp; Sau đó, tạo một user tomcat (là thành viên của group tomcat) với thư mục home /opt/tomcat (thư mục cài đặt Tomcat ở bước sau) và tắt quyền truy cập vào server: # useradd -M -s /bin/nologin -g tomcat -d /opt/tomcat tomcat&nbsp; Bước 3 – Download và Giải nén Tomcat Bạn có thể sử dụng lệnh wget như sau để tải về phiên bản tomcat 9 mới nhất # wget https://downloads.apache.org/tomcat/tomcat-9/v9.0.31/bin/apache-tomcat-9.0.31.tar.gz&nbsp; Tiếp theo, bạn tiến hành giải nén file .tar.gz vào thư mục cài đăt Tomcat (/opt/tomcat) bằng lệnh sau: # tar -xzvf apache-tomcat-9.0.31.tar.gz -C /opt/tomcat --strip-components=1 Bước 4 – Cập nhật quyền thực thi cho thư mục Tomcat Để user tomcat có thể truy cập vào thư mục cài đặt Tomcat, bạn lần lượt thiết lập quyền như sau: – Gán quyền sỡ hữu thư mục cài đặt Tomcat cho group tomcat # cd /opt/tomcat&nbsp; # chgrp -R tomcat /opt/tomcat – Kế tiếp, thiết lập quyền đọc và thực thi thư mục conf (và tất cả nội dung con bên trong) cho group tomcat. # chmod -R g+r conf # chmod g+x conf Sau cùng, bạn gán user tomcat sở hữu các thư mục webapps, work, temp và logs như sau # chown -R tomcat webapps/ work/ temp/ logs/ Bước 5 – Tạo service Tomcat trong Systemd Để Tomcat hoạt động như một dịch vụ trên CentOS 7, bạn cần tạo mới một file Tomcat Systemd unit. Tạo và mở file unit bằng lệnh sau: vi /etc/systemd/system/tomcat.service Thêm nội dung bên dưới vào file. # Systemd unit file for tomcat [Unit] Description=Apache Tomcat Web Application Container After=syslog.target network.target","url":"https://thu4nvd.github.io//apache-tomcat-install/","@type":"BlogPosting","headline":"🐅 Apache Tomcat 9 cài đặt trên CentOS 7","dateModified":"2023-07-16T12:27:45+07:00","datePublished":"2022-10-06T04:34:06+07:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://thu4nvd.github.io//apache-tomcat-install/"},"@context":"https://schema.org"}</script><title>🐅 Apache Tomcat 9 cài đặt trên CentOS 7 | Thu4nvd Blog</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar-icon.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Thu4nvd Blog</a></div><div class="site-subtitle font-italic">Get In the Game</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/thu4nvd" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/thu4nvd" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['thuanvd','outlook.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span>🐅 Apache Tomcat 9 cài đặt trên CentOS 7</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>🐅 Apache Tomcat 9 cài đặt trên CentOS 7</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> thu4nvd </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Oct 6, 2022, 4:34 AM +0700" prep="on" > Oct 6, 2022 <i class="unloaded">2022-10-06T04:34:06+07:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Jul 16, 2023, 12:27 PM +0700" prefix="Updated " > Jul 16 <i class="unloaded">2023-07-16T12:27:45+07:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="971 words">5 min</span></div></div><div class="post-content"><p></p><p><strong>Apache Tomcat</strong> là một web server mã nguồn mở được phát triển bởi tập đoàn <strong>Apache</strong>. Tomcat không phải là một web server đa dụng như Apache hoặc Nginx, mục đích chính của nó là cung cấp một môi trường dùng để <strong><em>thực thi các ứng dụng thuần Java, Java Servlet và JavaServer Pages</em></strong>.</p><p></p><p></p><p>Bài viết này sẽ hướng dẫn bạn những bước cài đặt và cấu hình cơ bản Tomcat 9 trên nền tảng hệ điều hành CentOS 7.</p><p></p><p></p><p></p><h3 id="htoc-c-i-t-v-c-u-h-nh-tomcat-service">Cài đặt và cấu hình Tomcat service</h3><p></p><p></p><h4 id="htoc-b-c-1-c-i-t-java">Bước 1 – Cài đặt Java</h4><p></p><p></p><p>Tomcat 9 yêu cầu Java SE 8 (hoặc cao hơn) phải được cài đặt trên CentOS. Bạn có thể cài đặt Java từ kho lưu trữ gói mặc định bằng lệnh <strong>yum</strong>&nbsp; như sau:</p><p></p><p></p><pre class="wp-block-preformatted"># yum install java-1.8.0-openjdk-devel&nbsp;</pre><p></p><p></p><p>&nbsp;Sau khi quá trình cài đặt hoàn tất, bạn có thể kiểm tra lại phiên bản Java bằng lệnh bên dưới:</p><p></p><p></p><pre class="wp-block-preformatted">#&nbsp;java -version</pre><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/java-version.jpg" alt="" class="wp-image-3256" /></figure><p></p><p></p><h4 id="htoc-b-c-2-t-o-tomcat-system-user">Bước 2 – Tạo non-root User và Group riêng để chạy Tomcat</h4><p></p><p></p><p>Vì lý do bảo mật, Tomcat nên được thực thi bởi một user được cấp quyền riêng (không phải user root). Chúng ta sẽ tạo một user&nbsp; và group để thực thi Tomcat.</p><p></p><p></p><p>Đầu tiên, bạn tạo group bằng lệnh</p><p></p><p></p><pre class="wp-block-preformatted"># groupadd tomcat&nbsp;</pre><p></p><p></p><p>Sau đó, tạo một user tomcat (là thành viên của group tomcat) với thư mục home /opt/tomcat (thư mục cài đặt Tomcat ở bước sau) và tắt quyền truy cập vào server:</p><p></p><p></p><pre class="wp-block-preformatted"># useradd -M -s /bin/nologin -g tomcat -d /opt/tomcat tomcat&nbsp;</pre><p></p><p></p><h4 id="htoc-b-c-3-download-tomcat">Bước 3 – Download và Giải nén Tomcat</h4><p></p><p></p><p>Bạn có thể sử dụng lệnh <strong>wget</strong> như sau để tải về phiên bản tomcat 9 mới nhất</p><p></p><p></p><pre class="wp-block-preformatted"># wget https://downloads.apache.org/tomcat/tomcat-9/v9.0.31/bin/apache-tomcat-9.0.31.tar.gz&nbsp;</pre><p></p><p></p><p>Tiếp theo, bạn tiến hành giải nén file .tar.gz vào thư mục cài đăt Tomcat (/opt/tomcat) bằng lệnh sau:</p><p></p><p></p><pre class="wp-block-preformatted"># tar -xzvf apache-tomcat-9.0.31.tar.gz -C /opt/tomcat --strip-components=1</pre><p></p><p></p><h4 id="htoc-b-c-4-c-p-nh-t-quy-n-th-c-thi">Bước 4 – Cập nhật quyền thực thi cho thư mục Tomcat</h4><p></p><p></p><p>Để user tomcat có thể truy cập vào thư mục cài đặt Tomcat, bạn lần lượt thiết lập quyền như sau:</p><p></p><p></p><p>– Gán quyền sỡ hữu thư mục cài đặt Tomcat cho group tomcat</p><p></p><p></p><pre class="wp-block-preformatted"># cd /opt/tomcat&nbsp;
# chgrp -R tomcat /opt/tomcat</pre><p></p><p></p><p>– Kế tiếp, thiết lập quyền đọc và thực thi thư mục <em>conf</em> (và tất cả nội dung con bên trong) cho group <strong>tomcat.</strong></p><p></p><p></p><pre class="wp-block-preformatted"># chmod -R g+r conf
# chmod g+x conf</pre><p></p><p></p><p>Sau cùng, bạn gán user tomcat sở hữu các thư mục webapps, work, temp và logs như sau</p><p></p><p></p><pre class="wp-block-preformatted"># chown -R tomcat webapps/ work/ temp/ logs/</pre><p></p><p></p><h4 id="htoc-b-c-5-t-o-file-systemd-unit-cho-tomcat">Bước 5 – Tạo service Tomcat trong Systemd</h4><p></p><p></p><p>Để Tomcat hoạt động như một dịch vụ trên CentOS 7, bạn cần tạo mới một file Tomcat Systemd unit.</p><p></p><p></p><p>Tạo và mở file unit bằng lệnh sau:</p><p></p><p></p><pre class="wp-block-preformatted">vi /etc/systemd/system/tomcat.service</pre><p></p><p></p><p>Thêm nội dung bên dưới vào file.</p><p></p><p></p><pre class="wp-block-preformatted"># Systemd unit file for tomcat
[Unit]
Description=Apache Tomcat Web Application Container
After=syslog.target network.target

[Service]
Type=forking

Environment=JAVA_HOME=/usr/lib/jvm/jre
Environment=CATALINA_PID=/opt/tomcat/temp/tomcat.pid
Environment=CATALINA_HOME=/opt/tomcat
Environment=CATALINA_BASE=/opt/tomcat
Environment='CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC'
Environment='JAVA_OPTS=-Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom'

ExecStart=/opt/tomcat/bin/startup.sh
ExecStop=/bin/kill -15 $MAINPID

User=tomcat
Group=tomcat
UMask=0007
RestartSec=10
Restart=always

[Install]
WantedBy=multi-user.target</pre><p></p><p></p><p>Tiếp theo, bạn thực thi lệnh sau để khởi động lại Systemd để nhận file Tomat unit</p><p></p><p></p><pre class="wp-block-preformatted"><code># systemctl daemon-reload</code></pre><p></p><p></p><p>Sau cùng, bạn lần lượt thực thi những lệnh sau để khởi động, bật chế độ chạy nền và kiểm tra trạng thái của Tomcat.</p><p></p><p></p><pre class="wp-block-preformatted"># systemctl start tomcat
# systemctl enable tomcat
# systemctl status tomcat</pre><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/tomat_status.jpg" alt="" class="wp-image-3260" /></figure><p></p><p></p><h4 id="htoc-b-c-6-c-u-h-nh-firewall">Bước 6 – Cấu hình Firewall</h4><p></p><p></p><p>Nếu server của bạn có sử dụng tường lửa (firewalld hoặc iptables), bạn cần thiết lập mở port 8080 để có thể truy cập giao diện Tomcat từ bên ngoài.</p><p></p><p></p><pre class="wp-block-preformatted"># firewall-cmd --add-port=8080/tcp --permanent
# firewall-cmd --reload </pre><p></p><p></p><p>Ngay sau khi mở port 8080, bạn có thể mở trình duyệt web, truy cập đường dẫn: <em>http://ip-server:8080</em> để kiểm tra giao diện mặc định Tomat.</p><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/tomcat_manager-1.jpg" alt="" class="wp-image-3272" /></figure><p></p><p></p><h3 id="htoc-c-u-h-nh-giao-di-n-web-qu-n-tr-tomcat">Cấu hình giao diện web quản trị Tomcat&nbsp;</h3><p></p><p></p><h4 id="htoc-1-c-u-h-nh">1. Cấu hình</h4><p></p><p></p><p>Sau khi hoàn tât các bước cài đặt và cấu hình cơ bản, bạn đã có thể truy cập trang Tomcat mặc định như trên. Tuy nhiên, vì lý do bảo mật nên bạn cần tạo thêm user để có thể truy cập trang quản trị Tomcat manager.</p><p></p><p></p><p>User Tomcat và các quyền sẽ được định nghĩa trong file <em>tomcat-users.xml.&nbsp;</em>Bạn mở file <strong>/opt/tomcat/latest/conf/tomcat-users.xml</strong>, tìm và thêm nội dung bên dưới vào bên trong thẻ &lt;tomcat-users&gt;…&lt;/tomcat-users&gt;</p><p></p><p></p><pre class="wp-block-preformatted">&lt;role rolename="admin-gui"/&gt;
&lt;role rolename="manager-gui"/&gt;
&lt;user username="admin" password="admin_password" roles="admin-gui,manager-gui"/&gt;<br /></pre><p></p><p></p><p><em><strong>Lưu ý:</strong></em></p><p></p><p></p><ul><li>rolename=”admin-gui” và “manager-gui” lần lượt các quyền truy cập vào trang quản trị Tomcat và trang quản lý webapps.<li>Thay đổi các giá trị username và password tương ứng với hệ thống của bạn.</ul><p></p><p></p><p>Theo mặc định, giao diện quản trị Tomcat chỉ cho phép truy cập từ localhost, để có thể truy cập từ một remote IP hoặc bất kỳ đâu, bạn thực hiện những điều chỉnh như sau:</p><p></p><p></p><p>Lần lượt mở các file <strong>/opt/tomcat/webapps/manager/META-INF/context.xml</strong> và <strong>/opt/tomcat/webapps/host-manager/META-INF/context.xml,&nbsp;</strong>khóa hoặc xóa bỏ nội dung bên dưới trong thẻ &lt;Context&gt;…&lt;/Context&gt;</p><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/manager.jpg" alt="" class="wp-image-3267" /></figure><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/host-manager.jpg" alt="" class="wp-image-3268" /></figure><p></p><p></p><p>Khởi động lại Tomcat để những điều chỉnh có tác dụng bằng lệnh sau:</p><p></p><p></p><pre class="wp-block-preformatted"># systemctl restart tomcat&nbsp;</pre><p></p><p></p><h4 id="htoc-2-ki-m-tra-c-u-h-nh">2. Kiểm tra cấu hình</h4><p></p><p></p><p>Sau khi hoàn tất các thiết lập, bạn truy cập lại giao diện quản trị Tomcat theo đường dẫn: http://&lt;your_domain_or_IP_address&gt;:8080</p><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/tomcat_manager-1.jpg" alt="" class="wp-image-3272" /></figure><p></p><p></p><p>Bạn lần lượt truy cập vào <strong>Server Status</strong>, <strong>Manage App</strong> và <strong>Host Manager</strong>, sau khi hoàn tất bước xác thực Tomcat User sẽ được kết quả tương tự như sau:</p><p></p><p></p><ul><li><strong>Server Status</strong></ul><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/server-status.jpg" alt="" class="wp-image-3273" /></figure><p></p><p></p><ul><li><strong>Manage App</strong></ul><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/manager-app.jpg" alt="" class="wp-image-3274" /></figure><p></p><p></p><ul><li><strong>Host-Manager</strong></ul><p></p><p></p><figure class="wp-block-image aligncenter"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/2022/10/virtual-host.jpg" alt="" class="wp-image-3275" /></figure><p></p><p></p><h3 id="htoc-k-t-lu-n">Kết luận</h3><p></p><p></p><p>Như vậy là mình đã hoàn thành bài viết hướng dẫn những bước cài đặt và cấu hình Tomcat 9 cơ bản nhất trên nền tảng CentOS 7<strong>. </strong>Bạn có thể truy cập trang <a href="https://tomcat.apache.org/tomcat-9.0-doc/index.html" target="_blank" rel="noreferrer noopener">Tài liệu Tomcat 9</a> của Apache để tìm hiểu thêm những thiết lập nâng cao khác.</p><p></p><p></p><p>Trong bài viết sau, mình sẽ tiếp tục chia sẻ hướng dẫn quản trị và  deploy ứng dụng Java lêm Tomcat server. Các bạn nhớ theo dõi nhé!</p><p></p><p></p><p>Credit: hiepsharing.com</p><p></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/linux/'>Linux</a>, <a href='/categories/system/'>System</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/tomcat/" class="post-tag no-text-decoration" >tomcat</a> <a href="/tags/webserver/" class="post-tag no-text-decoration" >webserver</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=🐅 Apache Tomcat 9 cài đặt trên CentOS 7 - Thu4nvd Blog&url=https://thu4nvd.github.io//apache-tomcat-install/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=🐅 Apache Tomcat 9 cài đặt trên CentOS 7 - Thu4nvd Blog&u=https://thu4nvd.github.io//apache-tomcat-install/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=🐅 Apache Tomcat 9 cài đặt trên CentOS 7 - Thu4nvd Blog&url=https://thu4nvd.github.io//apache-tomcat-install/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/linux-source-install/">🐧 Linux - Cài phần mềm từ source</a><li><a href="/nas-synology/">🧺 NAS Synology - Thiết bị lưu trữ dữ liệu</a><li><a href="/prometheus-install/">🔥 Prometheus - Cài đặt + Grafana / CentOS 7</a><li><a href="/wget/">🐧 wget - commands with examples</a><li><a href="/centreon-install-iso/">© Centreon - Cài đặt Centreon 19 ISO💿</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/travel/">travel</a> <a class="post-tag" href="/tags/xuyenviet/">xuyenviet</a> <a class="post-tag" href="/tags/cameroun/">cameroun</a> <a class="post-tag" href="/tags/french/">french</a> <a class="post-tag" href="/tags/monitoring/">monitoring</a> <a class="post-tag" href="/tags/skill/">skill</a> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/dns/">dns</a> <a class="post-tag" href="/tags/howto/">howto</a> <a class="post-tag" href="/tags/zabbix/">zabbix</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/linux-source-install/"><div class="card-body"> <span class="timeago small" > Oct 12, 2022 <i class="unloaded">2022-10-12T23:19:30+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>🐧 Linux - Cài phần mềm từ source</h3><div class="text-muted small"><p> 1. Giới thiệu Các phần mềm trên Linux không tự đóng gói sẵn. Bởi vì chạy trên chạy trên nhìều hệ thống khác nhau trong họ Unix như Solaris, AIX, HP-UX… thậm chí các phần mềm đó có thể chạy trên...</p></div></div></a></div><div class="card"> <a href="/prometheus-install/"><div class="card-body"> <span class="timeago small" > Oct 13, 2022 <i class="unloaded">2022-10-13T12:52:08+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>🔥 Prometheus - Cài đặt + Grafana / CentOS 7</h3><div class="text-muted small"><p> Trong bài này mình sẽ hướng dẫn các bạn cài đặt Prometheus và Grafana bằng 2 cách. Cách 01: Cài đặt Prometheus bằng Docker. Cách 02: Cài đặt Prometheus bằng Package. I. Cấu hình chung cho h...</p></div></div></a></div><div class="card"> <a href="/wget/"><div class="card-body"> <span class="timeago small" > Oct 14, 2022 <i class="unloaded">2022-10-14T02:01:46+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>🐧 wget - commands with examples</h3><div class="text-muted small"><p> What is wget? Wget&nbsp;is a free GNU command-line utility tool used to download files from the internet. It retrieves files using HTTP, HTTPS, and FTP protocols. It serves as a tool to susta...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/polyphasic-sleep/" class="btn btn-outline-primary" prompt="Older"><p>😴 Polyphasic Sleep – Chuyển tiếp mượt mà</p></a> <a href="/zabbix-cli/" class="btn btn-outline-primary" prompt="Newer"><p>📯 Zabbix - Command lines</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/thu4nvd">Richard Thu4nvd</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."> Some rights reserved. </span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/travel/">travel</a> <a class="post-tag" href="/tags/xuyenviet/">xuyenviet</a> <a class="post-tag" href="/tags/cameroun/">cameroun</a> <a class="post-tag" href="/tags/french/">french</a> <a class="post-tag" href="/tags/monitoring/">monitoring</a> <a class="post-tag" href="/tags/skill/">skill</a> <a class="post-tag" href="/tags/automation/">automation</a> <a class="post-tag" href="/tags/dns/">dns</a> <a class="post-tag" href="/tags/howto/">howto</a> <a class="post-tag" href="/tags/zabbix/">zabbix</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://thu4nvd.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
